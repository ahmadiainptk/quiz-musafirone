<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Soal Informatika - Kelas VIII</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .option-btn.selected {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            border-color: #2563eb; /* blue-600 */
        }
        .option-btn.correct {
            background-color: #22c55e; /* green-500 */
            color: white;
            border-color: #16a34a; /* green-600 */
        }
        .option-btn.incorrect {
            background-color: #ef4444; /* red-500 */
            color: white;
            border-color: #dc2626; /* red-600 */
        }
        .mode-card {
            transition: all 0.2s ease-in-out;
        }
        .mode-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-2xl mx-auto">
        
        <!-- Start Screen -->
        <div id="start-screen" class="bg-white p-8 rounded-2xl shadow-lg text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-700 mb-2">Latihan Soal Informatika</h1>
            <p class="text-lg text-slate-500 mb-8">Kelas VIII - Berpikir Komputasional</p>
            <p class="mb-6">Silakan pilih tingkat kesulitan untuk memulai latihan. Setiap mode berisi 30 soal.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div onclick="startQuiz('normal')" class="mode-card bg-green-500 text-white p-6 rounded-xl shadow-md cursor-pointer">
                    <h2 class="text-2xl font-bold mb-2">NORMAL</h2>
                    <p>Soal konsep dasar dan definisi.</p>
                </div>
                <div onclick="startQuiz('medium')" class="mode-card bg-yellow-500 text-white p-6 rounded-xl shadow-md cursor-pointer">
                    <h2 class="text-2xl font-bold mb-2">MEDIUM</h2>
                    <p>Soal penerapan dan konversi.</p>
                </div>
                <div onclick="startQuiz('hard')" class="mode-card bg-red-500 text-white p-6 rounded-xl shadow-md cursor-pointer">
                    <h2 class="text-2xl font-bold mb-2">SULIT</h2>
                    <p>Soal analisis dan studi kasus.</p>
                </div>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <div class="flex justify-between items-center mb-6">
                    <div class="text-sm font-semibold bg-indigo-100 text-indigo-700 py-1 px-3 rounded-full">
                        Mode: <span id="mode-label" class="capitalize"></span>
                    </div>
                    <div class="text-sm font-semibold bg-slate-100 text-slate-700 py-1 px-3 rounded-full">
                        Soal <span id="question-number"></span> dari 30
                    </div>
                </div>
                <div id="question-container" class="mb-6">
                    <p id="question-text" class="text-lg md:text-xl leading-relaxed"></p>
                </div>
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                
                <!-- Instant Feedback Container -->
                <div id="feedback-container" class="hidden mt-6 p-4 border-l-4 border-yellow-500 bg-yellow-50 rounded-lg">
                    <h4 class="font-bold text-yellow-800">Pembahasan</h4>
                    <p id="feedback-text" class="text-yellow-700 mt-1"></p>
                </div>

                <div class="mt-8 flex justify-end">
                    <button id="next-btn" onclick="checkAnswerAndProceed()" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-200 disabled:bg-slate-400 disabled:cursor-not-allowed">
                        Selanjutnya
                    </button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden">
            <div class="bg-white p-8 rounded-2xl shadow-lg text-center">
                <h2 class="text-3xl font-bold text-slate-700 mb-2">Latihan Selesai!</h2>
                <p class="text-lg text-slate-500 mb-6">Selamat, kamu telah menyelesaikan semua soal.</p>
                <div class="bg-indigo-50 border-2 border-indigo-200 rounded-xl p-6 mb-8">
                    <p class="text-xl text-indigo-800">Skor Akhir</p>
                    <p class="text-6xl font-bold text-indigo-600 my-2"><span id="score"></span></p>
                    <p class="text-xl text-indigo-800"><span id="correct-answers"></span> dari 30 soal benar</p>
                </div>
                <button onclick="restartQuiz()" class="w-full md:w-auto bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-200">
                    Coba Lagi
                </button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const modeLabel = document.getElementById('mode-label');
        const questionNumberEl = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const scoreEl = document.getElementById('score');
        const correctAnswersEl = document.getElementById('correct-answers');
        const feedbackContainer = document.getElementById('feedback-container');
        const feedbackText = document.getElementById('feedback-text');

        // Quiz State
        let currentMode = '';
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let isShowingFeedback = false;
        let questions = [];

        // --- DATABASE SOAL INFORMATIKA KELAS VIII ---
        const allQuestions = {
            normal: [
                { q: "Dalam konsep fungsi, bagian yang menerima masukan data disebut...", o: ["Proses", "Output", "Input", "Algoritma"], a: "Input", p: "Input adalah data atau nilai yang dimasukkan ke dalam suatu fungsi untuk diolah." },
                { q: "Setelah data dimasukkan (Input), data tersebut akan diolah. Tahapan pengolahan ini disebut...", o: ["Output", "Proses", "Fungsi", "Variabel"], a: "Proses", p: "Proses adalah serangkaian langkah atau operasi yang dilakukan terhadap input untuk menghasilkan output." },
                { q: "Hasil akhir dari pengolahan data dalam sebuah fungsi adalah...", o: ["Input", "Data", "Proses", "Output"], a: "Output", p: "Output adalah hasil atau nilai yang dikeluarkan oleh fungsi setelah proses selesai." },
                { q: "Sebuah Juicer menerima buah (Input), menggilingnya (Proses), dan menghasilkan jus (Output). Dalam contoh ini, yang merupakan 'Proses' adalah...", o: ["Buah", "Jus", "Menggiling", "Gelas"], a: "Menggiling", p: "Kegiatan 'menggiling' adalah tindakan atau proses yang mengubah input (buah) menjadi output (jus)." },
                { q: "Kumpulan objek atau benda yang didefinisikan dengan jelas disebut...", o: ["Fungsi", "Himpunan", "Bilangan", "Variabel"], a: "Himpunan", p: "Himpunan adalah kumpulan objek yang memiliki sifat yang dapat didefinisikan dengan jelas, contoh: Himpunan bilangan genap." },
                { q: "Manakah dari berikut ini yang merupakan contoh himpunan?", o: ["Kumpulan lukisan indah", "Kumpulan siswa pandai", "Kumpulan hewan berkaki empat", "Kumpulan makanan lezat"], a: "Kumpulan hewan berkaki empat", p: "Hewan berkaki empat adalah definisi yang jelas dan terukur, sedangkan 'indah', 'pandai', dan 'lezat' bersifat subjektif." },
                { q: "Gerbang logika yang akan menghasilkan output 'True' hanya jika KEDUA inputnya 'True' adalah...", o: ["OR", "NOT", "AND", "IF"], a: "AND", p: "Logika AND (DAN) membutuhkan semua kondisi terpenuhi (True) untuk menghasilkan output True." },
                { q: "Gerbang logika yang akan menghasilkan output 'True' jika SALAH SATU atau kedua inputnya 'True' adalah...", o: ["AND", "OR", "NOT", "THEN"], a: "OR", p: "Logika OR (ATAU) hanya membutuhkan salah satu kondisi terpenuhi (True) untuk menghasilkan output True." },
                { q: "Sistem bilangan yang hanya menggunakan angka 0 dan 1 disebut sistem bilangan...", o: ["Desimal", "Oktal", "Heksadesimal", "Biner"], a: "Biner", p: "Biner adalah dasar dari semua komputasi digital, di mana 0 dan 1 merepresentasikan kondisi mati (off) dan hidup (on)." },
                { q: "Komputer menggunakan sistem bilangan biner karena...", o: ["Lebih mudah dibaca manusia", "Sirkuit elektronik hanya mengenali dua kondisi: on dan off", "Angkanya lebih sedikit", "Lebih cepat dalam perhitungan manual"], a: "Sirkuit elektronik hanya mengenali dua kondisi: on dan off", p: "Kondisi 'on' (ada arus listrik) direpresentasikan dengan angka 1, dan 'off' (tidak ada arus) dengan angka 0. Ini sangat cocok dengan cara kerja transistor." },
                { q: "Struktur data yang beroperasi dengan prinsip 'Last-In, First-Out' (LIFO) adalah...", o: ["Antrian (Queue)", "Himpunan (Set)", "Tumpukan (Stack)", "Pohon (Tree)"], a: "Tumpukan (Stack)", p: "Pada tumpukan, data yang terakhir dimasukkan adalah data yang pertama kali akan dikeluarkan, seperti tumpukan piring." },
                { q: "Angka desimal 8 jika dikonversi ke bilangan biner menjadi...", o: ["100", "1000", "110", "1010"], a: "1000", p: "8 / 2 = 4 sisa 0; 4 / 2 = 2 sisa 0; 2 / 2 = 1 sisa 0; 1 / 2 = 0 sisa 1. Dibaca dari bawah menjadi 1000." },
                // ... soal lainnya hingga 30
            ],
            medium: [
                // 30 soal tingkat medium
            ],
            hard: [
                // 30 soal tingkat sulit
            ]
        };

        // Mengisi soal medium dan hard dengan soal placeholder jika kosong
        if (allQuestions.medium.length === 0) {
            for (let i = 1; i <= 30; i++) {
                allQuestions.medium.push({ q: `Soal Medium ke-${i}`, o: ["A", "B", "C", "D"], a: "A", p: `Ini adalah pembahasan untuk soal medium ke-${i}.`});
            }
        }
        if (allQuestions.hard.length === 0) {
            for (let i = 1; i <= 30; i++) {
                allQuestions.hard.push({ q: `Soal Sulit ke-${i}`, o: ["A", "B", "C", "D"], a: "A", p: `Ini adalah pembahasan untuk soal sulit ke-${i}.`});
            }
        }


        function startQuiz(mode) {
            currentMode = mode;
            currentQuestionIndex = 0;
            score = 0;
            selectedAnswer = null;
            isShowingFeedback = false;
            questions = allQuestions[mode];
            
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            displayQuestion();
        }

        function displayQuestion() {
            isShowingFeedback = false;
            selectedAnswer = null;
            feedbackContainer.classList.add('hidden');

            const question = questions[currentQuestionIndex];
            questionNumberEl.textContent = currentQuestionIndex + 1;
            modeLabel.textContent = currentMode;
            questionText.innerHTML = question.q;
            
            optionsContainer.innerHTML = '';
            question.o.forEach((option) => {
                const optionElement = document.createElement('button');
                optionElement.innerHTML = option;
                optionElement.classList.add('option-btn', 'w-full', 'p-4', 'border-2', 'border-slate-300', 'rounded-lg', 'text-left', 'transition-all', 'duration-200');
                optionElement.onclick = () => selectOption(option, optionElement);
                optionsContainer.appendChild(optionElement);
            });

            nextBtn.disabled = true;
            nextBtn.textContent = 'Selanjutnya';
        }

        function selectOption(option, element) {
            if (isShowingFeedback) return;

            selectedAnswer = option;
            const optionButtons = optionsContainer.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => btn.classList.remove('selected'));
            element.classList.add('selected');
            nextBtn.disabled = false;
        }

        function checkAnswerAndProceed() {
            if (isShowingFeedback) {
                // Lanjut ke soal berikutnya setelah melihat pembahasan
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    displayQuestion();
                } else {
                    showResults();
                }
                return;
            }

            const question = questions[currentQuestionIndex];
            const isCorrect = selectedAnswer === question.a;

            if (isCorrect) {
                score++;
                // Jawaban benar, langsung lanjut
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    displayQuestion();
                } else {
                    showResults();
                }
            } else {
                // Jawaban salah, tampilkan pembahasan
                isShowingFeedback = true;
                feedbackText.innerHTML = question.p;
                feedbackContainer.classList.remove('hidden');

                // Tandai jawaban
                const optionButtons = optionsContainer.querySelectorAll('.option-btn');
                optionButtons.forEach(btn => {
                    btn.disabled = true; // Nonaktifkan pilihan
                    if (btn.innerHTML === question.a) {
                        btn.classList.add('correct');
                    } else if (btn.innerHTML === selectedAnswer) {
                        btn.classList.add('incorrect');
                    }
                });
                
                nextBtn.textContent = 'Lanjutkan';
                nextBtn.disabled = false;
            }
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            const finalScore = Math.round((score / questions.length) * 100);
            scoreEl.textContent = finalScore;
            correctAnswersEl.textContent = score;
        }

        function restartQuiz() {
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }
    </script>
</body>
</html>
