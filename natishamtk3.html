<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Matematika Kelas 3 SD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css" integrity="sha384-WcoG4HRXMzYzfCgiyfrySxx90XSl2rxY5mnVY5TwtWE6KLrArNKn0T/mOgNL0Mmi" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js" integrity="sha384-J+9dG2KMoiR9hqcFao0IBLwxt6zpcyN68IgwzsCSkbreXUjmNVRhPFTssqdSGjwQ" crossorigin="anonymous"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation;
        }
        .katex-display {
            margin: 0.5em 0;
        }
        /* Style untuk teks biasa dan ekspresi katex dalam satu baris */
        .question-text p {
            display: inline;
        }
    </style>
</head>
<body class="bg-blue-50 text-gray-800 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-xl mx-auto">
        
        <!-- Layar Awal: Pilih Tingkat Kesulitan -->
        <div id="start-screen" class="text-center bg-white p-6 md:p-8 rounded-2xl shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-600 mb-2">Kuis Matematika</h1>
            <p class="text-gray-600 mb-8">Pilih tingkat kesulitan untuk memulai.</p>
            <div class="grid grid-cols-1 gap-4">
                <button onclick="startQuiz('easy')" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-transform transform hover:scale-105">
                    Mudah
                </button>
                <button onclick="startQuiz('medium')" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-transform transform hover:scale-105">
                    Sedang
                </button>
                <button onclick="startQuiz('hard')" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-xl text-lg transition-transform transform hover:scale-105">
                    Sulit
                </button>
            </div>
        </div>

        <!-- Layar Kuis -->
        <div id="quiz-screen" class="hidden bg-white p-6 md:p-8 rounded-2xl shadow-lg">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-lg md:text-xl font-bold text-blue-700">Soal <span id="question-number"></span> dari 50</h2>
                <div id="difficulty-badge" class="px-3 py-1 text-sm font-semibold text-white rounded-full"></div>
            </div>
            <div id="question-container" class="text-lg md:text-xl mb-6 min-h-[100px] leading-relaxed"></div>
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Opsi jawaban akan ditambahkan di sini oleh JavaScript -->
            </div>
        </div>

        <!-- Layar Hasil -->
        <div id="result-screen" class="hidden text-center bg-white p-6 md:p-8 rounded-2xl shadow-lg">
            <h2 class="text-3xl font-bold text-blue-600 mb-4">Kuis Selesai!</h2>
            <p class="text-xl mb-2">Skor Kamu:</p>
            <p id="score-percentage" class="text-5xl font-bold text-green-500 mb-6"></p>
            <div id="incorrect-answers-container" class="text-left mb-8">
                <h3 class="font-bold text-lg mb-2 text-red-600">Nomor soal yang salah:</h3>
                <p id="incorrect-answers-list" class="text-gray-700 leading-relaxed"></p>
            </div>
            <button onclick="restartQuiz()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-xl text-lg transition-transform transform hover:scale-105">
                Coba Lagi
            </button>
        </div>

        <!-- Modal Penjelasan Jawaban Salah -->
        <div id="explanation-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl p-8 max-w-md w-full text-center shadow-2xl">
                <h3 class="text-2xl font-bold text-red-500 mb-4">Jawaban Kurang Tepat</h3>
                <div id="explanation-text" class="text-gray-700 mb-6 leading-relaxed"></div>
                <button onclick="nextQuestion()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-xl">
                    Lanjut
                </button>
            </div>
        </div>
    </div>

<script>
    // --- DATABASE SOAL --- //
    // Catatan: Ekspresi MTK diapit dengan \\(...\\) untuk inline atau \\[...\\] untuk display
    const questions = {
        easy: [
            // Soal 1-50 tingkat mudah tidak mengandung ekspresi KaTeX, jadi tidak perlu diubah.
            { question: "Dina membeli 15 permen. Ia memberikan 7 permen kepada adiknya. Berapa sisa permen Dina?", options: ["6", "7", "8", "9"], answer: "8", explanation: "Sisa permen adalah 15 - 7 = 8 permen." },
            { question: "Ada 3 kandang ayam. Setiap kandang berisi 5 ekor ayam. Berapa jumlah semua ayam?", options: ["12", "15", "18", "20"], answer: "15", explanation: "Jumlah ayam adalah 3 kandang × 5 ekor = 15 ekor." },
            { question: "Ibu membeli 2 ikat rambutan. Setiap ikat berisi 10 buah. Berapa jumlah rambutan yang ibu beli?", options: ["12", "15", "20", "25"], answer: "20", explanation: "Jumlah rambutan adalah 2 ikat × 10 buah = 20 buah." },
            { question: "Ayah memiliki 24 buku. Ia ingin membagikannya sama rata kepada 4 anaknya. Berapa buku yang diterima setiap anak?", options: ["5", "6", "7", "8"], answer: "6", explanation: "Setiap anak menerima 24 buku ÷ 4 anak = 6 buku." },
            { question: "Di kelas ada 23 siswa laki-laki dan 15 siswa perempuan. Berapa jumlah seluruh siswa di kelas?", options: ["35", "36", "37", "38"], answer: "38", explanation: "Jumlah seluruh siswa adalah 23 + 15 = 38 siswa." },
            { question: "Sebuah toko menjual 45 roti di pagi hari dan 30 roti di sore hari. Berapa total roti yang terjual?", options: ["65", "70", "75", "80"], answer: "75", explanation: "Total roti yang terjual adalah 45 + 30 = 75 roti." },
            { question: "Pak Tani memanen 50 jagung. Sebanyak 12 jagung busuk. Berapa jagung yang masih bagus?", options: ["38", "40", "42", "48"], answer: "38", explanation: "Jagung yang bagus adalah 50 - 12 = 38 jagung." },
            { question: "Rina menabung Rp 500 setiap hari. Berapa uang yang ia tabung dalam 5 hari?", options: ["Rp 2.000", "Rp 2.500", "Rp 3.000", "Rp 3.500"], answer: "Rp 2.500", explanation: "Uang yang ditabung adalah 5 hari × Rp 500 = Rp 2.500." },
            { question: "Ada 40 kursi di dalam ruangan. Sebanyak 8 kursi dipindahkan ke luar. Berapa sisa kursi di dalam?", options: ["30", "32", "34", "35"], answer: "32", explanation: "Sisa kursi adalah 40 - 8 = 32 kursi." },
            { question: "Sebuah bus dapat menampung 35 penumpang. Sudah ada 20 penumpang yang naik. Berapa penumpang lagi yang bisa naik?", options: ["10", "15", "20", "25"], answer: "15", explanation: "Bus bisa menampung lagi 35 - 20 = 15 penumpang." },
            { question: "Di taman ada 12 bunga mawar merah dan 18 bunga mawar putih. Berapa jumlah bunga mawar di taman?", options: ["28", "30", "32", "34"], answer: "30", explanation: "Jumlah bunga mawar adalah 12 + 18 = 30 bunga." },
            { question: "Kakek memiliki 60 ekor kambing. Ia menjual 25 ekor. Berapa sisa kambing kakek?", options: ["30", "35", "40", "45"], answer: "35", explanation: "Sisa kambing adalah 60 - 25 = 35 ekor." },
            { question: "Dalam satu kotak ada 8 donat. Ibu membeli 4 kotak. Berapa jumlah semua donat?", options: ["24", "28", "32", "36"], answer: "32", explanation: "Jumlah donat adalah 8 donat × 4 kotak = 32 donat." },
            { question: "Ani punya 27 stiker. Ia ingin membaginya kepada 3 temannya sama banyak. Berapa stiker yang didapat setiap teman?", options: ["7", "8", "9", "10"], answer: "9", explanation: "Setiap teman mendapat 27 stiker ÷ 3 orang = 9 stiker." },
            { question: "Sebuah gedung memiliki 5 lantai. Setiap lantai memiliki 10 ruangan. Berapa total ruangan di gedung itu?", options: ["40", "45", "50", "55"], answer: "50", explanation: "Total ruangan adalah 5 lantai × 10 ruangan = 50 ruangan." },
            { question: "Budi berumur 9 tahun. Kakaknya 5 tahun lebih tua. Berapa umur kakak Budi?", options: ["13 tahun", "14 tahun", "15 tahun", "16 tahun"], answer: "14 tahun", explanation: "Umur kakak Budi adalah 9 + 5 = 14 tahun." },
            { question: "Siti membeli 3 pak buku tulis. Setiap pak berisi 10 buku. Berapa total buku yang dibeli Siti?", options: ["20", "25", "30", "35"], answer: "30", explanation: "Total buku adalah 3 pak × 10 buku = 30 buku." },
            { question: "Ada 18 bola di keranjang. Setengahnya berwarna merah. Berapa jumlah bola merah?", options: ["7", "8", "9", "10"], answer: "9", explanation: "Jumlah bola merah adalah 18 ÷ 2 = 9 bola." },
            { question: "Seorang pedagang memiliki 100 telur. Pecah sebanyak 15 telur. Berapa telur yang tersisa?", options: ["80", "85", "90", "95"], answer: "85", explanation: "Telur yang tersisa adalah 100 - 15 = 85 telur." },
            { question: "Panjang sebuah tali 25 cm. Tali yang lain panjangnya 35 cm. Berapa total panjang kedua tali jika disambung?", options: ["50 cm", "55 cm", "60 cm", "65 cm"], answer: "60 cm", explanation: "Total panjangnya adalah 25 cm + 35 cm = 60 cm." },
            { question: "Ayah membeli 7 kantong kelereng. Setiap kantong berisi 8 kelereng. Berapa jumlah kelereng Ayah?", options: ["49", "54", "56", "63"], answer: "56", explanation: "Jumlah kelereng adalah 7 kantong × 8 kelereng = 56 kelereng." },
            { question: "Nenek membagikan 45 kue kepada 9 cucunya. Berapa kue yang diterima setiap cucu?", options: ["4", "5", "6", "7"], answer: "5", explanation: "Setiap cucu menerima 45 kue ÷ 9 cucu = 5 kue." },
            { question: "Di perpustakaan ada 125 buku cerita dan 75 buku pelajaran. Berapa jumlah semua buku?", options: ["190", "200", "210", "220"], answer: "200", explanation: "Jumlah semua buku adalah 125 + 75 = 200 buku." },
            { question: "Tinggi badan Adi 130 cm. Tinggi badan kakaknya 155 cm. Berapa selisih tinggi badan mereka?", options: ["20 cm", "25 cm", "30 cm", "35 cm"], answer: "25 cm", explanation: "Selisih tinggi badan adalah 155 cm - 130 cm = 25 cm." },
            { question: "Satu jam ada 60 menit. Berapa menit dalam 2 jam?", options: ["100 menit", "120 menit", "150 menit", "180 menit"], answer: "120 menit", explanation: "Dalam 2 jam ada 2 × 60 menit = 120 menit." },
            { question: "Ibu pergi ke pasar pukul 07.00. Ia pulang pukul 09.00. Berapa lama ibu di pasar?", options: ["1 jam", "2 jam", "3 jam", "4 jam"], answer: "2 jam", explanation: "Lama ibu di pasar adalah 09.00 - 07.00 = 2 jam." },
            { question: "Harga sebuah pensil Rp 1.000. Budi membeli 5 pensil. Berapa ia harus membayar?", options: ["Rp 4.000", "Rp 5.000", "Rp 6.000", "Rp 7.000"], answer: "Rp 5.000", explanation: "Budi harus membayar 5 × Rp 1.000 = Rp 5.000." },
            { question: "Berat badan Dito 32 kg. Berat badan Fira 28 kg. Berapa jumlah berat badan mereka?", options: ["50 kg", "55 kg", "60 kg", "65 kg"], answer: "60 kg", explanation: "Jumlah berat badan mereka adalah 32 kg + 28 kg = 60 kg." },
            { question: "Sebuah mobil memiliki 4 roda. Jika ada 8 mobil, berapa jumlah semua rodanya?", options: ["24", "28", "32", "36"], answer: "32", explanation: "Jumlah semua roda adalah 4 roda × 8 mobil = 32 roda." },
            { question: "Terdapat 56 siswa yang akan dibagi menjadi 7 kelompok. Berapa jumlah siswa di setiap kelompok?", options: ["6", "7", "8", "9"], answer: "8", explanation: "Setiap kelompok berisi 56 siswa ÷ 7 kelompok = 8 siswa." },
            { question: "Tina memiliki 500 lembar kertas warna. Ia menggunakan 150 lembar. Berapa sisa kertasnya?", options: ["300", "350", "400", "450"], answer: "350", explanation: "Sisa kertas adalah 500 - 150 = 350 lembar." },
            { question: "Di sebuah peternakan ada 450 ayam dan 120 bebek. Berapa total hewan ternak?", options: ["550", "560", "570", "580"], answer: "570", explanation: "Total hewan ternak adalah 450 + 120 = 570 ekor." },
            { question: "Toni berlari sejauh 200 meter. Adi berlari 50 meter lebih jauh. Berapa meter jarak lari Adi?", options: ["150 m", "200 m", "250 m", "300 m"], answer: "250 m", explanation: "Jarak lari Adi adalah 200 m + 50 m = 250 m." },
            { question: "Satu minggu ada 7 hari. Berapa hari dalam 6 minggu?", options: ["35 hari", "42 hari", "49 hari", "56 hari"], answer: "42 hari", explanation: "Dalam 6 minggu ada 6 × 7 hari = 42 hari." },
            { question: "Sebuah kereta memiliki 9 gerbong. Setiap gerbong diisi 50 penumpang. Berapa total penumpang?", options: ["400", "450", "500", "550"], answer: "450", explanation: "Total penumpang adalah 9 gerbong × 50 penumpang = 450 penumpang." },
            { question: "Tukang pos mengantar 80 surat. Sebanyak 65 surat sudah diantar. Berapa surat yang belum diantar?", options: ["10", "15", "20", "25"], answer: "15", explanation: "Surat yang belum diantar adalah 80 - 65 = 15 surat." },
            { question: "Sebuah toko memiliki 300 kg beras. Datang kiriman beras lagi sebanyak 250 kg. Berapa kg beras di toko sekarang?", options: ["500 kg", "550 kg", "600 kg", "650 kg"], answer: "550 kg", explanation: "Beras di toko sekarang adalah 300 kg + 250 kg = 550 kg." },
            { question: "Gaji ayah Rp 3.000.000 sebulan. Gaji Paman Rp 2.500.000 sebulan. Berapa selisih gaji mereka?", options: ["Rp 400.000", "Rp 500.000", "Rp 600.000", "Rp 700.000"], answer: "Rp 500.000", explanation: "Selisih gaji mereka adalah Rp 3.000.000 - Rp 2.500.000 = Rp 500.000." },
            { question: "Satu dus berisi 24 botol air mineral. Jika ada 3 dus, berapa total botolnya?", options: ["60", "68", "72", "80"], answer: "72", explanation: "Total botol adalah 24 botol × 3 dus = 72 botol." },
            { question: "Pak guru memiliki 63 pensil untuk dibagikan kepada 9 siswa terbaik. Berapa pensil yang didapat setiap siswa?", options: ["6", "7", "8", "9"], answer: "7", explanation: "Setiap siswa mendapat 63 pensil ÷ 9 siswa = 7 pensil." },
            { question: "Dalam sebuah pesta, ada 6 meja. Setiap meja dikelilingi 6 kursi. Berapa total kursi yang ada?", options: ["30", "36", "42", "48"], answer: "36", explanation: "Total kursi adalah 6 meja × 6 kursi = 36 kursi." },
            { question: "Rini membeli pita sepanjang 5 meter. Ia menggunakan 2 meter. Berapa sisa pita Rini?", options: ["2 m", "3 m", "4 m", "5 m"], answer: "3 m", explanation: "Sisa pita adalah 5 m - 2 m = 3 m." },
            { question: "Berat sebuah semangka 4 kg. Berat sebuah melon 2 kg. Berapa total berat keduanya?", options: ["5 kg", "6 kg", "7 kg", "8 kg"], answer: "6 kg", explanation: "Total berat adalah 4 kg + 2 kg = 6 kg." },
            { question: "Satu tahun ada 12 bulan. Berapa bulan dalam 3 tahun?", options: ["24 bulan", "30 bulan", "36 bulan", "48 bulan"], answer: "36 bulan", explanation: "Dalam 3 tahun ada 3 × 12 bulan = 36 bulan." },
            { question: "Lia memiliki 12 boneka. Sinta memiliki 2 kali lipat boneka Lia. Berapa boneka Sinta?", options: ["20", "22", "24", "26"], answer: "24", explanation: "Boneka Sinta berjumlah 12 boneka × 2 = 24 boneka." },
            { question: "Di lapangan parkir ada 25 mobil dan 40 motor. Berapa jumlah kendaraan di sana?", options: ["60", "65", "70", "75"], answer: "65", explanation: "Jumlah kendaraan adalah 25 mobil + 40 motor = 65 kendaraan." },
            { question: "Kantin sekolah menyediakan 150 porsi makan siang. Terjual 125 porsi. Berapa porsi yang tersisa?", options: ["20", "25", "30", "35"], answer: "25", explanation: "Sisa porsi adalah 150 - 125 = 25 porsi." },
            { question: "Seorang nelayan menangkap 7 keranjang ikan. Setiap keranjang beratnya 10 kg. Berapa total berat ikan yang ditangkap?", options: ["60 kg", "70 kg", "80 kg", "90 kg"], answer: "70 kg", explanation: "Total berat ikan adalah 7 keranjang × 10 kg = 70 kg." },
            { question: "Ada 32 siswa. Mereka ingin membentuk kelompok, masing-masing 4 siswa. Berapa kelompok yang terbentuk?", options: ["6", "7", "8", "9"], answer: "8", explanation: "Kelompok yang terbentuk adalah 32 siswa ÷ 4 siswa/kelompok = 8 kelompok." },
            { question: "Harga 1 kg apel Rp 20.000. Harga 1 kg jeruk Rp 15.000. Berapa total harga 1 kg apel dan 1 kg jeruk?", options: ["Rp 30.000", "Rp 35.000", "Rp 40.000", "Rp 45.000"], answer: "Rp 35.000", explanation: "Total harga adalah Rp 20.000 + Rp 15.000 = Rp 35.000." },
        ],
        medium: [
            { question: "Dina membeli 3 kotak pensil warna. Setiap kotak berisi 12 pensil. Ia memberikan 5 pensil kepada adiknya. Berapa sisa pensil warna Dina?", options: ["31", "36", "41", "29"], answer: "31", explanation: "Total pensil awal adalah 3 × 12 = 36 pensil. Sisanya adalah 36 - 5 = 31 pensil." },
            { question: "Pak Budi memanen 150 mangga. Sebanyak 25 mangga busuk. Sisanya dimasukkan ke dalam 5 keranjang dengan jumlah sama banyak. Berapa isi setiap keranjang?", options: ["20", "25", "30", "35"], answer: "25", explanation: "Mangga yang bagus 150 - 25 = 125 buah. Setiap keranjang berisi 125 ÷ 5 = 25 buah." },
            { question: "Rina memiliki uang Rp 20.000. Ia membeli buku seharga Rp 8.500 dan pensil seharga Rp 2.500. Berapa sisa uang Rina?", options: ["Rp 8.000", "Rp 9.000", "Rp 10.000", "Rp 11.000"], answer: "Rp 9.000", explanation: "Total belanja adalah Rp 8.500 + Rp 2.500 = Rp 11.000. Sisa uang adalah Rp 20.000 - Rp 11.000 = Rp 9.000." },
            { question: "Sebuah kereta berangkat pukul 08.15 dan tiba di tujuan pukul 11.45. Berapa lama perjalanan kereta tersebut?", options: ["3 jam 15 menit", "3 jam 30 menit", "3 jam 45 menit", "4 jam"], answer: "3 jam 30 menit", explanation: "Lama perjalanan adalah 11.45 - 08.15 = 3 jam 30 menit." },
            { question: "Berat sebuah karung beras adalah 25 kg. Seorang pedagang membeli 8 karung beras. Berapa total berat beras yang ia beli?", options: ["150 kg", "180 kg", "200 kg", "220 kg"], answer: "200 kg", explanation: "Total berat beras adalah 25 kg × 8 = 200 kg." },
            { question: "Panjang sebuah pita 5 meter. Pita tersebut dipotong menjadi 10 bagian sama panjang. Berapa cm panjang setiap potongan pita?", options: ["25 cm", "50 cm", "75 cm", "100 cm"], answer: "50 cm", explanation: "5 meter = 500 cm. Panjang setiap potongan adalah 500 cm ÷ 10 = 50 cm." },
            { question: "Ibu membeli 2 kg gula dengan harga Rp 14.000 per kg dan 3 liter minyak goreng dengan harga Rp 15.000 per liter. Berapa total belanja ibu?", options: ["Rp 63.000", "Rp 70.000", "Rp 73.000", "Rp 80.000"], answer: "Rp 73.000", explanation: "Harga gula 2 × 14.000 = 28.000. Harga minyak 3 × 15.000 = 45.000. Totalnya 28.000 + 45.000 = Rp 73.000." },
            { question: "Di sebuah peternakan ada 125 ayam. Keesokan harinya menetas 45 anak ayam, dan 15 ayam dijual. Berapa jumlah ayam sekarang?", options: ["145", "150", "155", "160"], answer: "155", explanation: "Jumlah ayam menjadi 125 + 45 = 170. Setelah dijual, sisanya 170 - 15 = 155 ekor." },
            { question: "Luas sebuah persegi panjang adalah 48 cm². Jika lebarnya 6 cm, berapakah panjangnya?", options: ["6 cm", "7 cm", "8 cm", "9 cm"], answer: "8 cm", explanation: "Panjang = Luas ÷ lebar = 48 cm² ÷ 6 cm = 8 cm." },
            { question: "Ayah bekerja selama 8 jam sehari. Jika ia bekerja 5 hari dalam seminggu, berapa total jam kerja ayah dalam 4 minggu?", options: ["120 jam", "140 jam", "160 jam", "180 jam"], answer: "160 jam", explanation: "Jam kerja seminggu 8 × 5 = 40 jam. Dalam 4 minggu, totalnya 40 × 4 = 160 jam." },
            { question: "Suhu di kota A adalah 32°C. Suhu di puncak gunung B adalah 15°C lebih dingin. Berapa suhu di puncak gunung B?", options: ["15°C", "17°C", "19°C", "22°C"], answer: "17°C", explanation: "Suhu di puncak gunung B adalah 32°C - 15°C = 17°C." },
            { question: "Sebuah toko buku menjual 350 buku pada hari Senin dan 425 buku pada hari Selasa. Pada hari Rabu terjual 120 buku lebih sedikit dari hari Selasa. Berapa total buku yang terjual selama 3 hari?", options: ["1080", "1090", "1100", "1110"], answer: "1080", explanation: "Rabu terjual 425 - 120 = 305 buku. Total = 350 + 425 + 305 = 1080 buku." },
            { question: "Adi memiliki 3 lembar uang dua puluh ribuan dan 4 lembar uang lima ribuan. Berapa total uang Adi?", options: ["Rp 70.000", "Rp 75.000", "Rp 80.000", "Rp 85.000"], answer: "Rp 80.000", explanation: "(3 × 20.000) + (4 × 5.000) = 60.000 + 20.000 = Rp 80.000." },
            { question: "Sebuah acara dimulai pukul 19.30 dan berlangsung selama 2 jam 45 menit. Pukul berapa acara tersebut selesai?", options: ["21.45", "22.00", "22.15", "22.30"], answer: "22.15", explanation: "19.30 + 2 jam = 21.30. Lalu 21.30 + 45 menit = 22.15." },
            { question: "Jumlah siswa kelas 3 adalah 120 orang. \\(\\frac{1}{4}\\) dari mereka mengikuti ekstrakurikuler musik. Berapa siswa yang tidak ikut musik?", options: ["30", "60", "90", "100"], answer: "90", explanation: "Yang ikut musik \\(\\frac{1}{4}\\) × 120 = 30 siswa. Yang tidak ikut 120 - 30 = 90 siswa." },
            { question: "Sebuah akuarium berisi 60 liter air. Ayah menambahkan 3 ember air yang masing-masing berisi 5 liter. Berapa volume air di akuarium sekarang?", options: ["70 liter", "75 liter", "80 liter", "85 liter"], answer: "75 liter", explanation: "Air yang ditambahkan 3 × 5 = 15 liter. Volume total 60 + 15 = 75 liter." },
            { question: "Harga 5 buah buku tulis adalah Rp 12.500. Berapa harga satu buah buku tulis?", options: ["Rp 2.000", "Rp 2.250", "Rp 2.500", "Rp 2.750"], answer: "Rp 2.500", explanation: "Harga satu buku adalah Rp 12.500 ÷ 5 = Rp 2.500." },
            { question: "Sebuah lapangan berbentuk persegi dengan sisi 25 meter. Budi berlari mengelilingi lapangan tersebut sebanyak 2 kali. Berapa jarak yang ditempuh Budi?", options: ["150 m", "180 m", "200 m", "220 m"], answer: "200 m", explanation: "Keliling lapangan 4 × 25 = 100 m. Jarak yang ditempuh 100 m × 2 = 200 m." },
            { question: "Seorang pedagang membeli 5 dus mie instan. Setiap dus berisi 40 bungkus. Jika harga per bungkus Rp 2.500, berapa total uang yang harus dibayar?", options: ["Rp 400.000", "Rp 450.000", "Rp 500.000", "Rp 550.000"], answer: "Rp 500.000", explanation: "Total mie 5 × 40 = 200 bungkus. Total harga 200 × 2.500 = Rp 500.000." },
            { question: "Terdapat 240 siswa yang akan pergi berwisata dengan bus. Setiap bus dapat menampung 40 siswa. Berapa bus yang dibutuhkan?", options: ["4", "5", "6", "7"], answer: "6", explanation: "Bus yang dibutuhkan adalah 240 siswa ÷ 40 siswa/bus = 6 bus." },
            { question: "Ibu memotong sebuah kue menjadi 12 bagian. Ayah memakan 3 potong dan kakak memakan 2 potong. Berapa bagian kue yang tersisa?", options: ["\\(\\frac{5}{12}\\)", "\\(\\frac{6}{12}\\)", "\\(\\frac{7}{12}\\)", "\\(\\frac{8}{12}\\)"], answer: "\\(\\frac{7}{12}\\)", explanation: "Kue yang dimakan 3 + 2 = 5 potong. Sisa kue 12 - 5 = 7 potong, atau \\(\\frac{7}{12}\\) bagian." },
            { question: "Sebuah film berdurasi 95 menit. Jika film mulai diputar pukul 14.10, pukul berapa film akan selesai?", options: ["15.35", "15.40", "15.45", "15.55"], answer: "15.45", explanation: "95 menit = 1 jam 35 menit. 14.10 + 1 jam 35 menit = 15.45." },
            { question: "Andi membeli 6 kantong kelereng. Masing-masing kantong berisi 15 kelereng. Kemudian 20 kelereng hilang. Berapa sisa kelereng Andi?", options: ["70", "80", "90", "100"], answer: "70", explanation: "Total kelereng 6 × 15 = 90. Sisa kelereng 90 - 20 = 70." },
            { question: "Sebuah toko menjual 12 lusin piring. Berapa jumlah piring yang dijual toko tersebut? (1 lusin = 12 buah)", options: ["120", "132", "144", "156"], answer: "144", explanation: "Jumlah piring adalah 12 lusin × 12 buah = 144 buah." },
            { question: "Jarak rumah Budi ke sekolah 2 km. Budi sudah berjalan sejauh 800 meter. Berapa meter lagi sisa perjalanannya?", options: ["1000 m", "1200 m", "1400 m", "1500 m"], answer: "1200 m", explanation: "2 km = 2000 m. Sisa perjalanan 2000 m - 800 m = 1200 m." },
            { question: "Di dalam gudang terdapat 15 karung terigu, masing-masing seberat 50 kg. Berapa total berat terigu di gudang?", options: ["650 kg", "700 kg", "750 kg", "800 kg"], answer: "750 kg", explanation: "Total berat adalah 15 karung × 50 kg = 750 kg." },
            { question: "Harga sebuah mainan Rp 75.000. Roni membayar dengan 2 lembar uang lima puluh ribuan. Berapa kembaliannya?", options: ["Rp 15.000", "Rp 20.000", "Rp 25.000", "Rp 30.000"], answer: "Rp 25.000", explanation: "Roni membayar 2 × 50.000 = Rp 100.000. Kembaliannya 100.000 - 75.000 = Rp 25.000." },
            { question: "Ayah membeli 3 kg duku seharga Rp 12.000/kg dan 2 sisir pisang seharga Rp 18.000/sisir. Berapa total yang harus dibayar?", options: ["Rp 66.000", "Rp 72.000", "Rp 78.000", "Rp 84.000"], answer: "Rp 72.000", explanation: "(3 × 12.000) + (2 × 18.000) = 36.000 + 36.000 = Rp 72.000." },
            { question: "Sebuah truk membawa 500 batu bata. Di pemberhentian pertama, 175 batu bata diturunkan. Di pemberhentian kedua, 210 batu bata diturunkan. Berapa sisa batu bata di truk?", options: ["115", "125", "135", "145"], answer: "115", explanation: "Sisa setelah pemberhentian pertama 500 - 175 = 325. Sisa akhir 325 - 210 = 115 batu bata." },
            { question: "Rita menabung Rp 3.500 setiap hari. Berapa jumlah tabungannya setelah 2 minggu?", options: ["Rp 42.000", "Rp 45.500", "Rp 49.000", "Rp 52.500"], answer: "Rp 49.000", explanation: "2 minggu = 14 hari. Jumlah tabungan 14 × Rp 3.500 = Rp 49.000." },
            { question: "Dalam sebuah ujian, ada 50 soal. Setiap jawaban benar mendapat skor 2, salah -1. Jika Doni menjawab benar 40 soal dan sisanya salah, berapa skor Doni?", options: ["70", "75", "80", "90"], answer: "70", explanation: "Skor benar 40 × 2 = 80. Skor salah (50-40) × (-1) = -10. Total skor 80 - 10 = 70." },
            { question: "Luas sebuah kebun 600 m². \\(\\frac{1}{3}\\) bagian ditanami jagung dan \\(\\frac{1}{2}\\) bagian ditanami singkong. Berapa luas kebun yang kosong?", options: ["100 m²", "150 m²", "200 m²", "250 m²"], answer: "100 m²", explanation: "Jagung 200m², Singkong 300m². Total terpakai 500m². Kosong 600 - 500 = 100 m²." },
            { question: "Sebuah drum berisi 200 liter minyak tanah. Minyak tersebut akan dipindahkan ke dalam jeriken yang berkapasitas 25 liter. Berapa jeriken yang dibutuhkan?", options: ["6", "7", "8", "9"], answer: "8", explanation: "Jumlah jeriken = 200 liter ÷ 25 liter = 8 jeriken." },
            { question: "Keliling sebuah taman berbentuk persegi panjang adalah 80 meter. Jika panjangnya 25 meter, berapa lebarnya?", options: ["10 m", "15 m", "20 m", "25 m"], answer: "15 m", explanation: "Keliling = 2(P+L). 80 = 2(25+L). 40 = 25+L. Lebar = 15 meter." },
            { question: "Kakek lahir pada tahun 1958. Berapa umur kakek pada tahun 2023?", options: ["63 tahun", "64 tahun", "65 tahun", "66 tahun"], answer: "65 tahun", explanation: "Umur kakek adalah 2023 - 1958 = 65 tahun." },
            { question: "Sebuah sepeda motor menempuh jarak 120 km dalam 3 jam. Berapa kecepatan rata-rata sepeda motor tersebut?", options: ["30 km/jam", "35 km/jam", "40 km/jam", "45 km/jam"], answer: "40 km/jam", explanation: "Kecepatan = Jarak ÷ Waktu = 120 km ÷ 3 jam = 40 km/jam." },
            { question: "Sebuah ember dapat menampung 12 liter air. Untuk mengisi bak mandi dibutuhkan 15 ember air. Berapa kapasitas bak mandi tersebut?", options: ["150 liter", "160 liter", "180 liter", "200 liter"], answer: "180 liter", explanation: "Kapasitas bak mandi = 12 liter × 15 = 180 liter." },
            { question: "Terdapat 36 siswa laki-laki dan 48 siswa perempuan. Mereka akan dibagi menjadi beberapa kelompok dengan jumlah anggota laki-laki dan perempuan yang sama di setiap kelompok. Berapa kelompok paling banyak yang bisa dibentuk?", options: ["6", "8", "12", "16"], answer: "12", explanation: "Ini adalah soal FPB. FPB dari 36 dan 48 adalah 12." },
            { question: "Ibu membeli 4 kg apel dengan harga total Rp 80.000. Jika ia hanya membeli 1,5 kg, berapa yang harus dibayar?", options: ["Rp 25.000", "Rp 30.000", "Rp 35.000", "Rp 40.000"], answer: "Rp 30.000", explanation: "Harga per kg = 80.000 ÷ 4 = Rp 20.000. Harga 1,5 kg = 1,5 × 20.000 = Rp 30.000." },
            { question: "Sebuah proyek dijadwalkan selesai dalam 8 minggu. Jika sekarang sudah berjalan 3 minggu 5 hari, berapa sisa waktu pengerjaan proyek?", options: ["4 minggu 2 hari", "4 minggu 3 hari", "4 minggu 4 hari", "5 minggu"], answer: "4 minggu 2 hari", explanation: "8 minggu = 7 minggu 7 hari. Sisa waktu = (7 minggu 7 hari) - (3 minggu 5 hari) = 4 minggu 2 hari." },
            { question: "Jumlah dua bilangan adalah 60. Selisih kedua bilangan tersebut adalah 10. Berapakah hasil kali kedua bilangan tersebut?", options: ["825", "850", "875", "900"], answer: "875", explanation: "Bilangannya adalah 35 dan 25. Hasil kalinya 35 × 25 = 875." },
            { question: "Dalam sebuah kantong terdapat 10 bola merah, 15 bola biru, dan 5 bola hijau. Berapa persen peluang terambilnya bola biru?", options: ["25%", "33%", "50%", "60%"], answer: "50%", explanation: "Total bola = 10+15+5 = 30. Peluang biru = 15/30 = 1/2 = 50%." },
            { question: "Sebuah balok memiliki panjang 10 cm, lebar 5 cm, dan tinggi 8 cm. Berapakah volume balok tersebut?", options: ["350 cm³", "400 cm³", "450 cm³", "500 cm³"], answer: "400 cm³", explanation: "Volume = P × L × T = 10 × 5 × 8 = 400 cm³." },
            { question: "Suhu udara pada pagi hari 22°C. Pada siang hari suhu naik 9°C, dan pada malam hari suhu turun 12°C dari suhu siang hari. Berapa suhu pada malam hari?", options: ["19°C", "20°C", "21°C", "22°C"], answer: "19°C", explanation: "Suhu siang = 22+9 = 31°C. Suhu malam = 31-12 = 19°C." },
            { question: "Tiga buah lampu menyala bersamaan. Lampu A menyala setiap 3 detik, lampu B setiap 4 detik, dan lampu C setiap 6 detik. Pada detik ke berapa ketiga lampu akan menyala bersamaan lagi?", options: ["10", "12", "18", "24"], answer: "12", explanation: "Ini adalah soal KPK. KPK dari 3, 4, dan 6 adalah 12." },
            { question: "Ani menabung di bank sebesar Rp 500.000. Ia mendapat bunga 10% per tahun. Berapa jumlah tabungan Ani setelah satu tahun?", options: ["Rp 510.000", "Rp 525.000", "Rp 550.000", "Rp 600.000"], answer: "Rp 550.000", explanation: "Bunga = 10% × 500.000 = Rp 50.000. Total tabungan = 500.000 + 50.000 = Rp 550.000." },
            { question: "Perbandingan umur Ayah dan Ibu adalah 5:4. Jika jumlah umur mereka 81 tahun, berapakah umur Ibu?", options: ["36 tahun", "40 tahun", "45 tahun", "48 tahun"], answer: "36 tahun", explanation: "Umur Ibu = (4 / (5+4)) × 81 = (4/9) × 81 = 36 tahun." },
            { question: "Sebuah roda memiliki diameter 28 cm. Jika roda berputar 100 kali, berapa jarak yang ditempuh? (Gunakan \\(\\pi = \\frac{22}{7}\\))", options: ["88 m", "90 m", "92 m", "94 m"], answer: "88 m", explanation: "Keliling = \\(\\pi\\) × d = \\(\\frac{22}{7}\\) × 28 = 88 cm. Jarak = 88 cm × 100 = 8800 cm = 88 m." },
            { question: "Paman membeli 1 kodi baju. Berapa jumlah baju yang dibeli paman? (1 kodi = 20 buah)", options: ["12", "20", "24", "144"], answer: "20", explanation: "Satu kodi sama dengan 20 buah." },
            { question: "Sudut \\(\\frac{1}{4}\\) putaran penuh besarnya adalah...", options: ["45°", "60°", "90°", "180°"], answer: "90°", explanation: "Satu putaran penuh adalah 360°. Maka \\(\\frac{1}{4}\\) × 360° = 90°." }
        ],
        hard: [
            { question: "Sebuah toko punya 5 gross kancing. Toko tersebut berhasil menjual 30 lusin kancing. Berapa buah sisa kancing di toko? (1 gross = 144 buah, 1 lusin = 12 buah)", options: ["360", "380", "400", "420"], answer: "360", explanation: "Total kancing = 5 × 144 = 720 buah. Terjual = 30 × 12 = 360 buah. Sisa kancing = 720 - 360 = 360 buah." },
            { question: "Sebuah bak mandi berbentuk balok dengan ukuran dalam 120 cm x 80 cm x 50 cm. Bak tersebut diisi air dari keran dengan debit 40 liter/menit. Berapa lama waktu yang dibutuhkan hingga bak terisi \\(\\frac{3}{4}\\) bagian?", options: ["8 menit", "9 menit", "10 menit", "12 menit"], answer: "9 menit", explanation: "Volume total = 120×80×50 = 480.000 cm³ = 480 liter. Volume yang diisi = \\(\\frac{3}{4}\\) × 480 = 360 liter. Waktu = 360 liter ÷ 40 liter/menit = 9 menit." },
            { question: "Rata-rata nilai ulangan matematika 5 siswa adalah 82. Jika nilai Budi tidak diikutsertakan, rata-rata nilai 4 siswa lainnya menjadi 80. Berapakah nilai Budi?", options: ["85", "88", "90", "92"], answer: "90", explanation: "Total nilai 5 siswa = 5 × 82 = 410. Total nilai 4 siswa = 4 × 80 = 320. Nilai Budi = 410 - 320 = 90." },
            { question: "Toni, Bima, dan Candra berlatih renang di tempat yang sama. Toni berlatih setiap 4 hari, Bima setiap 6 hari, dan Candra setiap 8 hari. Jika mereka berlatih bersama pada tanggal 1 Maret, tanggal berapa mereka akan berlatih bersama lagi?", options: ["23 Maret", "24 Maret", "25 Maret", "26 Maret"], answer: "25 Maret", explanation: "KPK dari 4, 6, dan 8 adalah 24. Mereka akan bertemu lagi 24 hari setelah 1 Maret, yaitu tanggal 1 + 24 = 25 Maret." },
            { question: "Sebuah mobil menempuh jarak dari kota A ke B dengan kecepatan 60 km/jam selama 4 jam. Jika mobil tersebut ingin tiba 1 jam lebih cepat, berapakah kecepatan rata-rata yang diperlukan?", options: ["70 km/jam", "75 km/jam", "80 km/jam", "90 km/jam"], answer: "80 km/jam", explanation: "Jarak A-B = 60 km/jam × 4 jam = 240 km. Waktu baru = 4-1 = 3 jam. Kecepatan baru = 240 km ÷ 3 jam = 80 km/jam." },
            { question: "Ibu memiliki persediaan 2,5 kg tepung. Ia menggunakan 800 gram untuk membuat kue dan membeli lagi 1,2 kg. Berapa gram persediaan tepung ibu sekarang?", options: ["2900 gram", "3000 gram", "3200 gram", "3500 gram"], answer: "2900 gram", explanation: "Awal = 2500 gram. Sisa = 2500 - 800 = 1700 gram. Persediaan baru = 1700 + 1200 = 2900 gram." },
            { question: "Perbandingan uang Ali, Budi, dan Cici adalah 2:3:5. Jika selisih uang Ali dan Cici adalah Rp 60.000, berapakah jumlah uang mereka bertiga?", options: ["Rp 180.000", "Rp 200.000", "Rp 220.000", "Rp 240.000"], answer: "Rp 200.000", explanation: "Selisih perbandingan Cici dan Ali = 5-2 = 3. Nilai 1 bagian = 60.000 ÷ 3 = 20.000. Jumlah perbandingan = 2+3+5=10. Jumlah uang = 10 × 20.000 = Rp 200.000." },
            { question: "Pak Andi mengecat sebuah dinding seluas 60 m². Hari pertama ia selesai mengecat \\(\\frac{2}{5}\\) bagian. Hari kedua ia mengecat \\(\\frac{1}{3}\\) dari sisa dinding. Berapa luas dinding yang belum dicat?", options: ["20 m²", "24 m²", "28 m²", "30 m²"], answer: "24 m²", explanation: "Hari pertama = \\(\\frac{2}{5}\\) × 60 = 24 m². Sisa = 60 - 24 = 36 m². Hari kedua = \\(\\frac{1}{3}\\) × 36 = 12 m². Total dicat = 24+12=36 m². Belum dicat = 60 - 36 = 24 m²." },
            { question: "Sebuah peta memiliki skala 1 : 2.500.000. Jika jarak dua kota pada peta adalah 6 cm, berapakah jarak sebenarnya?", options: ["120 km", "150 km", "180 km", "200 km"], answer: "150 km", explanation: "Jarak sebenarnya = 6 cm × 2.500.000 = 15.000.000 cm = 150 km." },
            { question: "Harga beli 10 lusin mainan adalah Rp 1.800.000. Mainan tersebut dijual dengan harga Rp 18.000 per buah. Berapa persen keuntungan yang didapat?", options: ["15%", "20%", "25%", "30%"], answer: "20%", explanation: "Harga beli per buah = 1.800.000 ÷ (10×12) = Rp 15.000. Untung per buah = 18.000 - 15.000 = Rp 3.000. Persen untung = (\\(\\frac{3000}{15000}\\)) × 100% = 20%." },
            { question: "Sebuah bangun terdiri dari sebuah persegi dengan sisi 10 cm dan sebuah segitiga sama sisi yang salah satu sisinya berimpit dengan sisi persegi. Berapakah keliling bangun tersebut?", options: ["40 cm", "50 cm", "60 cm", "30 cm"], answer: "50 cm", explanation: "Sisi yang dihitung adalah sisi terluar. Ada 3 sisi persegi (3x10=30cm) dan 2 sisi segitiga (2x10=20cm) yang tidak berimpit. Total keliling = 30 cm + 20 cm = 50 cm." },
            { question: "Sebuah drum minyak berisi 75% dari kapasitas penuhnya. Jika ditambahkan 30 liter minyak, drum tersebut menjadi penuh. Berapa liter kapasitas penuh drum tersebut?", options: ["100 liter", "120 liter", "150 liter", "180 liter"], answer: "120 liter", explanation: "30 liter adalah 100% - 75% = 25% dari kapasitas. Kapasitas penuh = 30 liter ÷ 25% = 30 ÷ (\\(\\frac{1}{4}\\)) = 120 liter." },
            { question: "Umur Dodi sekarang 24 tahun. Enam tahun yang lalu, umur Dodi adalah tiga kali umur adiknya. Berapa umur adik Dodi sekarang?", options: ["10 tahun", "12 tahun", "14 tahun", "16 tahun"], answer: "12 tahun", explanation: "6 tahun lalu, umur Dodi 24 - 6 = 18 tahun. Umur adiknya 18 ÷ 3 = 6 tahun. Umur adik sekarang 6 + 6 = 12 tahun." },
            { question: "Pak Jono menjual tanah seluas 2 hektar dengan harga Rp 80.000 per meter persegi. Berapa total uang yang ia terima? (1 hektar = 10.000 m²)", options: ["Rp 1,6 Miliar", "Rp 1,8 Miliar", "Rp 2 Miliar", "Rp 2,2 Miliar"], answer: "Rp 1,6 Miliar", explanation: "Luas tanah = 2 × 10.000 = 20.000 m². Total uang = 20.000 × 80.000 = Rp 1.600.000.000." },
            { question: "Dalam sebuah kompetisi, tim A menang 12 kali dari 20 pertandingan. Tim B menang 15 kali dari 25 pertandingan. Tim manakah yang memiliki persentase kemenangan lebih tinggi?", options: ["Tim A", "Tim B", "Sama", "Tidak bisa ditentukan"], answer: "Sama", explanation: "Persentase Tim A = (\\(\\frac{12}{20}\\)) × 100% = 60%. Persentase Tim B = (\\(\\frac{15}{25}\\)) × 100% = 60%. Persentasenya sama." },
            { question: "Sebuah roda sepeda berputar 500 kali untuk menempuh jarak 660 meter. Berapa jari-jari roda tersebut? (Gunakan \\(\\pi = \\frac{22}{7}\\))", options: ["18 cm", "21 cm", "24 cm", "28 cm"], answer: "21 cm", explanation: "Jarak = 660 m = 66000 cm. Keliling = 66000 ÷ 500 = 132 cm. Keliling = 2\\(\\pi\\)r. 132 = 2 × (\\(\\frac{22}{7}\\)) × r. r = \\(\\frac{132 × 7}{44}\\) = 21 cm." },
            { question: "Suhu es krim di dalam freezer adalah -5°C. Setelah dikeluarkan, suhunya naik 3°C setiap 4 menit. Berapa suhu es krim setelah 20 menit?", options: ["8°C", "10°C", "12°C", "15°C"], answer: "10°C", explanation: "Kenaikan suhu = (\\(\\frac{20}{4}\\)) × 3°C = 5 × 3°C = 15°C. Suhu akhir = -5°C + 15°C = 10°C." },
            { question: "Sebuah bus berangkat dari Jakarta pukul 06.40 menuju Bandung. Jarak Jakarta-Bandung 150 km. Jika kecepatan rata-rata bus 50 km/jam dan istirahat selama 30 menit, pukul berapa bus tiba di Bandung?", options: ["10.00", "10.10", "10.20", "10.30"], answer: "10.10", explanation: "Waktu tempuh = 150 km ÷ 50 km/jam = 3 jam. Total waktu perjalanan = 3 jam + 30 menit = 3 jam 30 menit. Tiba pukul 06.40 + 3 jam 30 menit = 10.10." },
            { question: "Seorang peternak memiliki persediaan pakan untuk 50 ekor sapi selama 18 hari. Jika ia menjual 5 ekor sapi, berapa hari pakan tersebut akan habis?", options: ["19 hari", "20 hari", "21 hari", "22 hari"], answer: "20 hari", explanation: "Ini perbandingan berbalik nilai. (50 sapi × 18 hari) = (45 sapi × X hari). X = \\(\\frac{50 × 18}{45}\\) = 20 hari." },
            { question: "Luas sebuah trapesium adalah 180 cm². Jika tinggi trapesium 12 cm dan panjang salah satu sisi sejajarnya 18 cm, berapakah panjang sisi sejajar yang lain?", options: ["10 cm", "12 cm", "14 cm", "15 cm"], answer: "12 cm", explanation: "Luas = \\(\\frac{1}{2}\\) × (a+b) × t. 180 = \\(\\frac{1}{2}\\) × (18+b) × 12. 180 = 6 × (18+b). 30 = 18+b. b = 12 cm." },
            { question: "Rata-rata berat badan 10 siswa adalah 45 kg. Setelah 2 siswa baru bergabung, rata-rata berat badan menjadi 44 kg. Berapa rata-rata berat badan 2 siswa baru tersebut?", options: ["38 kg", "39 kg", "40 kg", "41 kg"], answer: "39 kg", explanation: "Total berat 10 siswa = 10x45 = 450 kg. Total berat 12 siswa = 12x44 = 528 kg. Total berat 2 siswa baru = 528-450 = 78 kg. Rata-rata = 78/2 = 39 kg." },
            { question: "Sebuah tabung memiliki jari-jari 7 cm dan tinggi 20 cm. Berapa volume tabung tersebut? (Gunakan \\(\\pi = \\frac{22}{7}\\))", options: ["2880 cm³", "3080 cm³", "3280 cm³", "3480 cm³"], answer: "3080 cm³", explanation: "Volume = \\(\\pi r^2 t\\) = (\\(\\frac{22}{7}\\)) × \\(7^2\\) × 20 = 22 × 7 × 20 = 3080 cm³." },
            { question: "Hasil dari \\(15^2 - \\sqrt{625} + 2^3\\) adalah...", options: ["208", "218", "228", "238"], answer: "208", explanation: "\\(225 - 25 + 8 = 200 + 8 = 208\\)." },
            { question: "Ayah menyimpan uang di bank sebesar Rp 2.000.000 dengan bunga 12% per tahun. Berapa besar tabungan ayah setelah 8 bulan?", options: ["Rp 2.120.000", "Rp 2.160.000", "Rp 2.200.000", "Rp 2.240.000"], answer: "Rp 2.160.000", explanation: "Bunga 1 tahun = 12% x 2jt = 240rb. Bunga 1 bulan = 20rb. Bunga 8 bulan = 8 x 20rb = 160rb. Total = 2.000.000 + 160.000 = Rp 2.160.000." },
            { question: "Sebuah pekerjaan dapat diselesaikan oleh 12 orang dalam 20 hari. Jika pekerjaan tersebut ingin diselesaikan dalam 15 hari, berapa tambahan pekerja yang dibutuhkan?", options: ["2 orang", "3 orang", "4 orang", "5 orang"], answer: "4 orang", explanation: "12 org x 20 hari = X org x 15 hari. X = \\(\\frac{12 \\times 20}{15}\\) = 16 orang. Tambahan pekerja = 16 - 12 = 4 orang." },
            { question: "Sebuah kubus memiliki volume 1.728 cm³. Berapakah panjang rusuk kubus tersebut?", options: ["11 cm", "12 cm", "13 cm", "14 cm"], answer: "12 cm", explanation: "Panjang rusuk adalah akar pangkat tiga dari volume. \\(\\sqrt[3]{1728} = 12\\) cm." },
            { question: "Sebuah toko memberikan diskon 20%. Jika harga sebuah baju Rp 150.000, lalu setelah didiskon dikenakan pajak 10%. Berapa harga akhir yang harus dibayar?", options: ["Rp 128.000", "Rp 130.000", "Rp 132.000", "Rp 135.000"], answer: "Rp 132.000", explanation: "Diskon = 20% x 150.000 = 30.000. Harga stlh diskon = 120.000. Pajak = 10% x 120.000 = 12.000. Harga akhir = 120.000 + 12.000 = Rp 132.000." },
            { question: "Faktor Persekutuan Terbesar (FPB) dan Kelipatan Persekutuan Terkecil (KPK) dari 24 dan 36 adalah...", options: ["6 dan 72", "12 dan 72", "6 dan 108", "12 dan 108"], answer: "12 dan 72", explanation: "Faktorisasi 24 = \\(2^3 \\times 3\\). Faktorisasi 36 = \\(2^2 \\times 3^2\\). FPB = \\(2^2 \\times 3\\) = 12. KPK = \\(2^3 \\times 3^2\\) = 8 × 9 = 72." },
            { question: "Ibu membeli 60 buah jeruk, 75 buah apel, dan 90 buah salak. Buah-buahan tersebut akan dimasukkan ke dalam beberapa parsel dengan jenis dan jumlah buah yang sama di setiap parsel. Berapa parsel paling banyak yang dapat dibuat?", options: ["10", "15", "20", "25"], answer: "15", explanation: "Mencari FPB dari 60, 75, dan 90. FPBnya adalah 15." },
            { question: "Sebuah kerucut memiliki jari-jari alas 10 cm dan tinggi 12 cm. Berapakah volume kerucut tersebut? (Gunakan \\(\\pi = 3.14\\))", options: ["1256 cm³", "1356 cm³", "1456 cm³", "1556 cm³"], answer: "1256 cm³", explanation: "Volume = \\(\\frac{1}{3} \\pi r^2 t\\) = \\(\\frac{1}{3}\\) × 3.14 × \\(10^2\\) × 12 = 3.14 × 100 × 4 = 1256 cm³." },
            { question: "Hasil dari \\(3\\frac{1}{4} + 2\\frac{1}{2} - 1\\frac{3}{5}\\) adalah...", options: ["\\(4\\frac{3}{20}\\)", "\\(4\\frac{7}{20}\\)", "\\(5\\frac{3}{20}\\)", "\\(5\\frac{7}{20}\\)"], answer: "\\(4\\frac{3}{20}\\)", explanation: "Ubah ke pecahan biasa: \\(\\frac{13}{4} + \\frac{5}{2} - \\frac{8}{5}\\). Samakan penyebut jadi 20: \\(\\frac{65+50-32}{20} = \\frac{83}{20} = 4\\frac{3}{20}\\)." },
            { question: "Sebuah denah rumah digambar dengan skala 1 : 150. Jika ukuran kamar pada denah adalah 3 cm x 2 cm, berapa luas sebenarnya kamar tersebut?", options: ["13,5 m²", "15 m²", "18 m²", "20,5 m²"], answer: "13,5 m²", explanation: "Panjang sebenarnya = 3 cm x 150 = 450 cm = 4,5 m. Lebar sebenarnya = 2 cm x 150 = 300 cm = 3 m. Luas = 4,5 m x 3 m = 13,5 m²." },
            { question: "Rata-rata dari 5 bilangan adalah 20. Jika bilangan pertama, kedua, ketiga, dan keempat berturut-turut adalah 10, 15, 25, dan 30, berapakah bilangan kelima?", options: ["15", "20", "25", "30"], answer: "20", explanation: "Total 5 bilangan = 5 x 20 = 100. Jumlah 4 bilangan = 10+15+25+30 = 80. Bilangan kelima = 100 - 80 = 20." },
            { question: "Pak Danu memiliki kebun berbentuk persegi panjang dengan keliling 100 m. Jika perbandingan panjang dan lebarnya adalah 3:2, berapakah luas kebun tersebut?", options: ["400 m²", "500 m²", "600 m²", "700 m²"], answer: "600 m²", explanation: "K=2(p+l) -> 100=2(3x+2x) -> 50=5x -> x=10. Panjang=30m, Lebar=20m. Luas = 30x20 = 600 m²." },
            { question: "Sebuah prisma segitiga memiliki alas berbentuk segitiga siku-siku dengan sisi 6 cm, 8 cm, dan 10 cm. Jika tinggi prisma 15 cm, berapa volume prisma tersebut?", options: ["360 cm³", "400 cm³", "450 cm³", "480 cm³"], answer: "360 cm³", explanation: "Luas alas = \\(\\frac{1}{2}\\) x 6 x 8 = 24 cm². Volume = Luas alas x tinggi = 24 x 15 = 360 cm³." },
            { question: "Lima tahun yang akan datang, jumlah umur kakak dan adik adalah 40 tahun. Jika umur kakak sekarang 4 tahun lebih tua dari adik, berapa umur adik sekarang?", options: ["10 tahun", "12 tahun", "13 tahun", "15 tahun"], answer: "13 tahun", explanation: "Jumlah umur sekarang = 40 - (5+5) = 30. K+A=30, K=A+4. (A+4)+A=30 -> 2A=26 -> A=13 tahun." },
            { question: "Sebuah acara seminar dihadiri oleh 200 peserta. \\(40\\%\\) peserta adalah laki-laki. Dari peserta perempuan, \\(\\frac{1}{3}\\) nya memakai kacamata. Berapa jumlah peserta perempuan yang tidak memakai kacamata?", options: ["60", "70", "80", "90"], answer: "80", explanation: "Laki-laki = 40% x 200 = 80. Perempuan = 200-80 = 120. Pakai kacamata = \\(\\frac{1}{3}\\) x 120 = 40. Tidak pakai = 120-40 = 80." },
            { question: "Sebuah akuarium berbentuk kubus dengan panjang rusuk 60 cm. Jika akuarium tersebut hanya terisi air sebanyak \\(\\frac{5}{6}\\) bagian, berapa liter volume air di dalamnya?", options: ["150 liter", "160 liter", "180 liter", "200 liter"], answer: "180 liter", explanation: "Volume total = \\(60^3\\) = 216000 cm³ = 216 liter. Volume air = \\(\\frac{5}{6}\\) x 216 = 180 liter." },
            { question: "Dua buah dadu dilempar bersamaan. Berapa peluang munculnya jumlah mata dadu sama dengan 8?", options: ["\\(\\frac{3}{36}\\)", "\\(\\frac{4}{36}\\)", "\\(\\frac{5}{36}\\)", "\\(\\frac{6}{36}\\)"], answer: "\\(\\frac{5}{36}\\)", explanation: "Kemungkinan (2,6), (3,5), (4,4), (5,3), (6,2). Ada 5 kemungkinan dari total 36 kemungkinan. Jadi peluangnya \\(\\frac{5}{36}\\)." },
            { question: "Jika A:B = 2:3 dan B:C = 4:5, maka A:C adalah...", options: ["2:5", "6:15", "8:15", "10:12"], answer: "8:15", explanation: "A:B=8:12, B:C=12:15. Maka A:B:C = 8:12:15. Jadi A:C = 8:15." },
            { question: "Sebuah bilangan jika dikalikan 5 kemudian dikurangi 8 hasilnya adalah 32. Bilangan berapakah itu?", options: ["6", "7", "8", "9"], answer: "8", explanation: "Misal bilangan itu x. 5x - 8 = 32. 5x = 40. x = 8." },
            { question: "Paman memiliki sawah seluas 1,5 hektar. Ia menjual 50 are dan memberikan 2.000 m² kepada anaknya. Berapa m² sisa sawah paman? (1 ha = 100 are = 10.000 m²)", options: ["8.000 m²", "9.000 m²", "10.000 m²", "12.000 m²"], answer: "8.000 m²", explanation: "Awal = 15.000 m². Jual = 5.000 m². Sisa = 10.000 m². Beri anak = 2.000 m². Sisa akhir = 8.000 m²." },
            { question: "Sebuah sepeda dibeli dengan harga Rp 800.000. Setelah diperbaiki dengan biaya Rp 100.000, sepeda itu dijual dan mengalami kerugian 10%. Berapa harga jual sepeda?", options: ["Rp 720.000", "Rp 800.000", "Rp 810.000", "Rp 900.000"], answer: "Rp 810.000", explanation: "Modal = 800rb+100rb=900rb. Rugi = 10% x 900rb = 90rb. Harga jual = 900rb-90rb=Rp 810.000." },
            { question: "Jika \\(a = 3\\) dan \\(b = -2\\), maka nilai dari \\(2a^2 - 3ab + b^2\\) adalah...", options: ["30", "36", "40", "44"], answer: "40", explanation: "\\(2(3^2) - 3(3)(-2) + (-2)^2 = 2(9) - (-18) + 4 = 18 + 18 + 4 = 40\\)." },
            { question: "Urutkan pecahan berikut dari yang terkecil: \\(\\frac{3}{4}, \\frac{5}{8}, \\frac{2}{3}\\)", options: ["\\(\\frac{5}{8}, \\frac{2}{3}, \\frac{3}{4}\\)", "\\(\\frac{2}{3}, \\frac{5}{8}, \\frac{3}{4}\\)", "\\(\\frac{3}{4}, \\frac{2}{3}, \\frac{5}{8}\\)", "\\(\\frac{5}{8}, \\frac{3}{4}, \\frac{2}{3}\\)"], answer: "\\(\\frac{5}{8}, \\frac{2}{3}, \\frac{3}{4}\\)", explanation: "Ubah ke desimal: \\(\\frac{3}{4}=0.75\\), \\(\\frac{5}{8}=0.625\\), \\(\\frac{2}{3} \\approx 0.667\\). Urutannya: 0.625, 0.667, 0.75." },
            { question: "Sebuah bingkai foto berbentuk persegi memiliki luas 256 cm². Bingkai tersebut terbuat dari kayu selebar 2 cm. Berapa luas bagian dalam (tempat foto) bingkai tersebut?", options: ["100 cm²", "121 cm²", "144 cm²", "169 cm²"], answer: "144 cm²", explanation: "Sisi luar = \\(\\sqrt{256}\\) = 16 cm. Sisi dalam = 16 - (2+2) = 12 cm. Luas dalam = 12 x 12 = 144 cm²." },
            { question: "Jumlah 3 bilangan ganjil berurutan adalah 87. Berapakah bilangan yang terbesar?", options: ["27", "29", "31", "33"], answer: "31", explanation: "87 / 3 = 29 (bilangan tengah). Bilangannya 27, 29, 31. Terbesar adalah 31." },
            { question: "Sebuah tiang bendera tingginya 12 meter. Panjang bayangannya 9 meter. Pada saat yang sama, panjang bayangan sebuah pohon adalah 15 meter. Berapa tinggi pohon tersebut?", options: ["16 m", "18 m", "20 m", "22 m"], answer: "20 m", explanation: "Perbandingan: \\(\\frac{T_{tiang}}{B_{tiang}} = \\frac{T_{pohon}}{B_{pohon}}\\). \\(\\frac{12}{9} = \\frac{x}{15}\\). x = \\(\\frac{12 \\times 15}{9}\\) = 20 meter." },
            { question: "Seorang anak berlari dengan kecepatan 10 km/jam. Berapa meter jarak yang ia tempuh dalam 12 menit?", options: ["1500 m", "1800 m", "2000 m", "2400 m"], answer: "2000 m", explanation: "12 menit = \\(\\frac{1}{5}\\) jam. Jarak = Kecepatan x Waktu = 10 km/jam x \\(\\frac{1}{5}\\) jam = 2 km = 2000 meter." },
        ],
    };


    // --- VARIABEL GLOBAL --- //
    let currentDifficulty = '';
    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let incorrectQuestions = [];

    // --- ELEMEN DOM --- //
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const questionNumberEl = document.getElementById('question-number');
    const difficultyBadgeEl = document.getElementById('difficulty-badge');
    const questionContainer = document.getElementById('question-container');
    const optionsContainer = document.getElementById('options-container');
    const scorePercentageEl = document.getElementById('score-percentage');
    const incorrectAnswersListEl = document.getElementById('incorrect-answers-list');
    const explanationModal = document.getElementById('explanation-modal');
    const explanationTextEl = document.getElementById('explanation-text');

    // --- FUNGSI-FUNGSI --- //

    /**
     * Fungsi untuk merender teks yang mengandung ekspresi KaTeX.
     * Ekspresi inline diapit \\(...\\) dan display diapit \\[...\\]
     * @param {string} text - Teks input
     * @returns {string} - HTML yang sudah dirender
     */
    function renderTextWithKatex(text) {
    // Inline: \( ... \)
    // Display: \[ ... \]
    return text
        .replace(/\\\[(.*?)\\\]/g, (match, content) => {
            try {
                return katex.renderToString(content, {
                    throwOnError: false,
                    displayMode: true
                });
            } catch (e) {
                return match;
            }
        })
        .replace(/\\\((.*?)\\\)/g, (match, content) => {
            try {
                return katex.renderToString(content, {
                    throwOnError: false,
                    displayMode: false
                });
            } catch (e) {
                return match;
            }
        });
}

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
    
    function startQuiz(difficulty) {
        currentDifficulty = difficulty;
        currentQuestions = [...questions[difficulty]];
        shuffleArray(currentQuestions);
        currentQuestionIndex = 0;
        score = 0;
        incorrectQuestions = [];

        startScreen.classList.add('hidden');
        resultScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');

        updateDifficultyBadge();
        displayQuestion();
    }

    function updateDifficultyBadge() {
        if (currentDifficulty === 'easy') {
            difficultyBadgeEl.textContent = 'Mudah';
            difficultyBadgeEl.className = 'px-3 py-1 text-sm font-semibold text-white rounded-full bg-green-500';
        } else if (currentDifficulty === 'medium') {
            difficultyBadgeEl.textContent = 'Sedang';
            difficultyBadgeEl.className = 'px-3 py-1 text-sm font-semibold text-white rounded-full bg-yellow-500';
        } else {
            difficultyBadgeEl.textContent = 'Sulit';
            difficultyBadgeEl.className = 'px-3 py-1 text-sm font-semibold text-white rounded-full bg-red-500';
        }
    }

    function displayQuestion() {
        if (currentQuestionIndex >= currentQuestions.length) {
            showResults();
            return;
        }

        const question = currentQuestions[currentQuestionIndex];
        questionNumberEl.textContent = currentQuestionIndex + 1;
        
        // Gunakan fungsi render baru
        questionContainer.innerHTML = renderTextWithKatex(question.question);

        optionsContainer.innerHTML = '';
        const shuffledOptions = [...question.options];
        shuffleArray(shuffledOptions);

        shuffledOptions.forEach(option => {
            const button = document.createElement('button');
            button.className = "w-full text-left p-4 bg-gray-100 rounded-lg hover:bg-blue-100 transition duration-200 border-2 border-gray-200 text-base md:text-lg";
            
            // Gunakan fungsi render baru untuk opsi
            button.innerHTML = renderTextWithKatex(option);
            
            button.onclick = () => selectAnswer(option, button);
            optionsContainer.appendChild(button);
        });
    }

    function selectAnswer(selectedOption, button) {
        const question = currentQuestions[currentQuestionIndex];
        // Normalisasi jawaban untuk perbandingan yang akurat
        const isCorrect = selectedOption.replace(/\\/g, '') === question.answer.replace(/\\/g, '');

        // Menonaktifkan semua tombol pilihan
        Array.from(optionsContainer.children).forEach(btn => {
            btn.disabled = true;
            btn.classList.remove('hover:bg-blue-100');
            
            const btnText = btn.textContent.trim();
            const answerText = question.answer.replace(/\\\(|\\\)|\\\[|\\\]/g, '');

            // Menandai jawaban yang benar
            if (btnText === answerText) {
                 btn.className = "w-full text-left p-4 rounded-lg border-2 bg-green-100 border-green-500 text-green-800 text-base md:text-lg";
            }
        });

        if (isCorrect) {
            score++;
            button.className = "w-full text-left p-4 rounded-lg border-2 bg-green-100 border-green-500 text-green-800 text-base md:text-lg";
            setTimeout(nextQuestion, 1000); // Lanjut otomatis jika benar
        } else {
            incorrectQuestions.push(currentQuestionIndex + 1);
            button.className = "w-full text-left p-4 rounded-lg border-2 bg-red-100 border-red-500 text-red-800 text-base md:text-lg";
            
            // Tampilkan penjelasan dengan fungsi render baru
            explanationTextEl.innerHTML = renderTextWithKatex(question.explanation);
            explanationModal.classList.remove('hidden');
        }
    }

    function nextQuestion() {
        explanationModal.classList.add('hidden');
        currentQuestionIndex++;
        displayQuestion();
    }

    function showResults() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');

        const percentage = Math.round((score / currentQuestions.length) * 100);
        scorePercentageEl.textContent = `${percentage}%`;

        if (percentage >= 80) {
            scorePercentageEl.className = 'text-5xl font-bold text-green-500 mb-6';
        } else if (percentage >= 50) {
            scorePercentageEl.className = 'text-5xl font-bold text-yellow-500 mb-6';
        } else {
            scorePercentageEl.className = 'text-5xl font-bold text-red-500 mb-6';
        }

        if (incorrectQuestions.length > 0) {
            document.getElementById('incorrect-answers-container').style.display = 'block';
            incorrectAnswersListEl.textContent = incorrectQuestions.sort((a, b) => a - b).join(', ');
        } else {
            document.getElementById('incorrect-answers-container').style.display = 'block'; // Tampilkan juga jika semua benar
            incorrectAnswersListEl.textContent = "Hebat! Semua jawaban benar!";
            document.querySelector('#incorrect-answers-container h3').style.display = 'none';
        }
    }

    function restartQuiz() {
        resultScreen.classList.add('hidden');
        startScreen.classList.remove('hidden');
        // Pastikan heading untuk jawaban salah muncul lagi
        const incorrectHeading = document.querySelector('#incorrect-answers-container h3');
        if(incorrectHeading) incorrectHeading.style.display = 'block';
    }

</script>

</body>
</html>

