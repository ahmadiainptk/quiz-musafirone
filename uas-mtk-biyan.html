<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAS Matematika Kelas VIII</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" xintegrity="sha384-My7t2SNP2DkR23MdVrhKk9vGzKfuK/4GVRstLgtCfZsNZa0iJgS0jqRta2vWJk+B" crossorigin="anonymous">

    <!-- KaTeX JS -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" xintegrity="sha384-hIoIeAImFME2B8Tu2B+Q8LhAKldhC1-5K/+iS2rVciZfGZYFN2BQvD2DqDmyPqTw" crossorigin="anonymous"></script>

    <!-- KaTeX Auto-render -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" xintegrity="sha384-48nLhNl/C/Z+N3T8iUaCSetU+HOr0QSHxC2IiRinS+I7eQ2gWnQjSrmmB/sP/qS/"
        onload="initKatex()"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
            color: #1e293b;
        }
        .quiz-container { max-width: 850px; margin: 0 auto; }
        .question-card { transition: all 0.2s ease; }
        .option-label { cursor: pointer; transition: all 0.2s; }
        .option-label:hover { background-color: #f8fafc; border-color: #6366f1; }
        .option-input:checked + .option-content {
            background-color: #eef2ff;
            border-color: #4f46e5;
            color: #312e81;
            font-weight: 600;
        }
        /* KaTeX adjustment */
        .katex { font-size: 1.1em; }
    </style>
</head>
<body class="min-h-screen pb-12">

    <!-- Navbar -->
    <header class="bg-white border-b sticky top-0 z-30 shadow-sm">
        <div class="max-w-5xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-indigo-600 text-white p-2 rounded-lg">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                </div>
                <div>
                    <h1 class="text-lg font-bold text-slate-800 leading-tight">PAS Matematika VIII Semester Ganjil</h1>
                    <p class="text-xs text-indigo-600 font-medium">Tingkat Sedang</p>
                </div>
            </div>
            <div class="bg-slate-100 text-slate-700 px-4 py-1.5 rounded-full text-sm font-mono font-bold shadow-inner" id="timer">00:00</div>
        </div>
    </header>

    <!-- Intro Screen -->
    <div id="intro-screen" class="quiz-container px-4 py-12 text-center">
        <div class="bg-white p-10 rounded-2xl shadow-xl border border-slate-200">
            <div class="mb-6 inline-block p-4 bg-indigo-50 rounded-full">
                <svg class="w-12 h-12 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
            </div>
            <h2 class="text-3xl font-extrabold mb-4 text-slate-800">Siap untuk Tantangan?</h2>
            <p class="text-slate-600 mb-8 max-w-lg mx-auto text-lg leading-relaxed">
                Soal ini disusun dengan tingkat kesulitan sedang (Medium), menggunakan simbol matematika kompleks (KaTeX), dan sesuai dengan 40 indikator kisi-kisi.
            </p>
            <button onclick="startQuiz()" class="bg-indigo-600 hover:bg-indigo-700 hover:shadow-lg text-white text-lg font-bold py-4 px-12 rounded-xl transition-all transform hover:-translate-y-1 active:translate-y-0">
                Mulai Mengerjakan
            </button>
        </div>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="hidden quiz-container px-4 py-8">
        <form id="quiz-form">
            <div id="questions-container" class="space-y-8"></div>
            
            <div class="mt-12 text-center">
                <button type="button" onclick="submitQuiz()" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 px-16 rounded-xl shadow-lg transition-all text-lg hover:shadow-xl">
                    Selesai & Kumpulkan
                </button>
            </div>
        </form>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="hidden quiz-container px-4 py-8">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden mb-8 border border-slate-200">
            <div class="bg-slate-800 text-white p-10 text-center relative overflow-hidden">
                <div class="relative z-10">
                    <p class="text-sm uppercase tracking-widest opacity-75 mb-2 font-semibold">Nilai Akhir Anda</p>
                    <h2 class="text-7xl font-extrabold mb-6 tracking-tight" id="final-score">0</h2>
                    <div class="flex justify-center gap-10">
                        <div class="text-center">
                            <span class="block text-3xl font-bold text-emerald-400" id="correct-total">0</span>
                            <span class="text-xs uppercase tracking-wider opacity-75">Benar</span>
                        </div>
                        <div class="text-center">
                            <span class="block text-3xl font-bold text-rose-400" id="wrong-total">0</span>
                            <span class="text-xs uppercase tracking-wider opacity-75">Salah</span>
                        </div>
                    </div>
                </div>
                <!-- Decorative circles -->
                <div class="absolute top-0 left-0 -ml-10 -mt-10 w-40 h-40 bg-white opacity-5 rounded-full"></div>
                <div class="absolute bottom-0 right-0 -mr-10 -mb-10 w-40 h-40 bg-white opacity-5 rounded-full"></div>
            </div>
            <div class="p-6 bg-slate-50 text-center border-t border-slate-100">
                <button onclick="location.reload()" class="text-indigo-600 font-bold hover:text-indigo-800 flex items-center justify-center mx-auto gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                    Coba Lagi
                </button>
            </div>
        </div>

        <div class="flex items-center gap-3 mb-6">
            <h3 class="text-2xl font-bold text-slate-800">Pembahasan Soal</h3>
            <span class="text-sm bg-indigo-100 text-indigo-700 px-2 py-1 rounded font-medium">KaTeX Enabled</span>
        </div>
        
        <div id="review-container" class="space-y-6"></div>
    </div>

    <script>
        // Fungsi inisialisasi KaTeX
        function initKatex() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "\\[", right: "\\]", display: true}
                ],
                throwOnError: false
            });
        }

        // Database Soal (Perbaikan Syntax: Backslash ganda untuk string JS)
        const questions = [
  {
    "no": 1,
    "topic": "Operasi Bilangan Berpangkat",
    "q": "Hasil dari \\( 4^3 \\times 4^2 : 4^4 \\) adalah...",
    "options": ["4", "16", "64", "256"],
    "ans": 0,
    "expl": "\\( 4^{3+2-4} = 4^1 = 4 \\)."
  },
  {
    "no": 2,
    "topic": "Notasi Ilmiah",
    "q": "Bentuk baku dari 0,00000789 adalah...",
    "options": ["\\( 7,89 \\times 10^{-6} \\)", "\\( 7,89 \\times 10^{-5} \\)", "\\( 78,9 \\times 10^{-7} \\)", "\\( 7,89 \\times 10^{6} \\)"],
    "ans": 0,
    "expl": "Geser koma ke kanan 6 kali: \\( 7,89 \\times 10^{-6} \\)."
  },
  {
    "no": 3,
    "topic": "Operasi Bentuk Akar",
    "q": "Hasil dari \\( \\sqrt{48} + \\sqrt{12} - \\sqrt{27} \\) adalah...",
    "options": ["\\( 3\\sqrt{3} \\)", "\\( 4\\sqrt{3} \\)", "\\( 5\\sqrt{3} \\)", "\\( 2\\sqrt{3} \\)"],
    "ans": 0,
    "expl": "\\( 4\\sqrt{3} + 2\\sqrt{3} - 3\\sqrt{3} = 3\\sqrt{3} \\)."
  },
  {
    "no": 4,
    "topic": "Operasi Bentuk Akar",
    "q": "Hasil dari \\( 2\\sqrt{8} \\times \\sqrt{3} \\) adalah...",
    "options": ["\\( 4\\sqrt{6} \\)", "\\( 4\\sqrt{3} \\)", "\\( 2\\sqrt{24} \\)", "\\( 6\\sqrt{2} \\)"],
    "ans": 0,
    "expl": "\\( 2\\sqrt{8 \\times 3} = 2\\sqrt{24} = 2\\sqrt{4 \\times 6} = 2(2)\\sqrt{6} = 4\\sqrt{6} \\)."
  },
  {
    "no": 5,
    "topic": "Arti Bilangan Berpangkat",
    "q": "Arti dari pemangkatan \\( (-4)^3 \\) adalah...",
    "options": ["\\( -4 \\times -4 \\times -4 \\)", "\\( -(4 \\times 4 \\times 4) \\)", "\\( -4 \\times 3 \\)", "\\( 4 \\times 4 \\times 4 \\)"],
    "ans": 0,
    "expl": "Pangkat ganjil dari bilangan negatif berarti bilangan negatif itu dikalikan sebanyak pangkatnya."
  },
  {
    "no": 6,
    "topic": "Hasil Bilangan Berpangkat",
    "q": "Hasil dari \\( (-2)^5 \\) adalah...",
    "options": ["32", "-32", "10", "-10"],
    "ans": 1,
    "expl": "\\( (-2) \\times (-2) \\times (-2) \\times (-2) \\times (-2) = -32 \\)."
  },
  {
    "no": 7,
    "topic": "Operasi Bilangan Berpangkat",
    "q": "Bentuk sederhana dari \\( (3^2)^3 \\times 3^{-4} \\) adalah...",
    "options": ["\\( 3^2 \\)", "\\( 3^9 \\)", "\\( 3^5 \\)", "\\( 3^{10} \\)"],
    "ans": 0,
    "expl": "\\( 3^{2 \\times 3} \\times 3^{-4} = 3^6 \\times 3^{-4} = 3^{6-4} = 3^2 \\)."
  },
  {
    "no": 8,
    "topic": "Operasi Bentuk Akar",
    "q": "Bentuk sederhana (rasional) dari \\( \\frac{6}{\\sqrt{2}} \\) adalah...",
    "options": ["\\( 2\\sqrt{2} \\)", "\\( 3\\sqrt{2} \\)", "\\( 6\\sqrt{2} \\)", "\\( \\sqrt{2} \\)"],
    "ans": 1,
    "expl": "\\( \\frac{6}{\\sqrt{2}} \\times \\frac{\\sqrt{2}}{\\sqrt{2}} = \\frac{6\\sqrt{2}}{2} = 3\\sqrt{2} \\)."
  },
  {
    "no": 9,
    "topic": "Teorema Pythagoras (Hipotenusa)",
    "q": "Diketahui segitiga siku-siku dengan sisi penyiku 5 cm dan 12 cm. Panjang hipotenusa adalah...",
    "options": ["13 cm", "14 cm", "15 cm", "17 cm"],
    "ans": 0,
    "expl": "\\( c = \\sqrt{5^2 + 12^2} = \\sqrt{25 + 144} = 13 \\)."
  },
  {
    "no": 10,
    "topic": "Teorema Pythagoras (Rumus)",
    "q": "Pada segitiga PQR siku-siku di Q, berlaku...",
    "options": ["\\( PR^2 = PQ^2 + QR^2 \\)", "\\( PQ^2 = PR^2 + QR^2 \\)", "\\( QR^2 = PQ^2 + PR^2 \\)", "\\( PR^2 = PQ^2 - QR^2 \\)"],
    "ans": 0,
    "expl": "Siku-siku di Q, maka sisi miring adalah PR. Rumus: \\( PR^2 = PQ^2 + QR^2 \\)."
  },
  {
    "no": 11,
    "topic": "Keliling Bangun Datar (Pythagoras)",
    "q": "Sebuah persegi memiliki panjang diagonal 10 cm. Keliling persegi tersebut adalah...",
    "options": ["\\( 20\\sqrt{2} \\) cm", "\\( 40\\sqrt{2} \\) cm", "20 cm", "40 cm"],
    "ans": 0,
    "expl": "\\( s^2 + s^2 = 10^2 \\Rightarrow 2s^2 = 100 \\Rightarrow s^2 = 50 \\Rightarrow s = \\sqrt{50} = 5\\sqrt{2} \\). Keliling = \\( 4 \\times 5\\sqrt{2} = 20\\sqrt{2} \\)."
  },
  {
    "no": 12,
    "topic": "Soal Cerita Pythagoras",
    "q": "Seorang anak menaikkan layang-layang dengan benang sepanjang 100 meter. Jarak anak di tanah terhadap titik tepat di bawah layang-layang adalah 60 meter. Tinggi layang-layang adalah...",
    "options": ["60 m", "70 m", "80 m", "90 m"],
    "ans": 2,
    "expl": "\\( t = \\sqrt{100^2 - 60^2} = \\sqrt{10000 - 3600} = \\sqrt{6400} = 80 \\)."
  },
  {
    "no": 13,
    "topic": "Soal Cerita Pythagoras",
    "q": "Kapal bergerak ke Barat 9 km, lalu ke Selatan 12 km. Jarak kapal sekarang dari titik awal adalah...",
    "options": ["15 km", "10 km", "21 km", "13 km"],
    "ans": 0,
    "expl": "\\( J = \\sqrt{9^2 + 12^2} = \\sqrt{81 + 144} = \\sqrt{225} = 15 \\)."
  },
  {
    "no": 14,
    "topic": "Jenis Segitiga",
    "q": "Segitiga dengan panjang sisi 10 cm, 24 cm, dan 25 cm adalah jenis segitiga...",
    "options": ["Lancip", "Tumpul", "Siku-siku", "Sama kaki"],
    "ans": 0,
    "expl": "\\( 10^2 + 24^2 = 100 + 576 = 676 \\). Sisi terpanjang \\( 25^2 = 625 \\). Karena \\( 676 > 625 \\) (Jumlah kuadrat sisi pendek > Sisi panjang kuadrat), maka Lancip."
  },
  {
    "no": 15,
    "topic": "Jenis Segitiga",
    "q": "Kelompok sisi berikut yang membentuk segitiga tumpul adalah...",
    "options": ["3, 4, 5", "5, 12, 13", "4, 6, 8", "6, 8, 10"],
    "ans": 2,
    "expl": "\\( 4^2 + 6^2 = 16 + 36 = 52 \\). Sisi terpanjang \\( 8^2 = 64 \\). Karena \\( 52 < 64 \\) (Jumlah kuadrat sisi pendek < Sisi panjang kuadrat), maka Tumpul."
  },
  {
    "no": 16,
    "topic": "Segitiga Istimewa",
    "q": "Pada segitiga siku-siku sama kaki, jika sisi miringnya 10 cm, panjang sisi siku-sikunya adalah...",
    "options": ["5 cm", "\\( 5\\sqrt{2} \\) cm", "10 cm", "\\( 10\\sqrt{2} \\) cm"],
    "ans": 1,
    "expl": "\\( s\\sqrt{2} = 10 \\Rightarrow s = \\frac{10}{\\sqrt{2}} = 5\\sqrt{2} \\)."
  },
  {
    "no": 17,
    "topic": "Segitiga Istimewa (30-60-90)",
    "q": "Segitiga siku-siku ABC sudut A = 30°, B = 90°. Jika panjang AC (miring) = 12 cm, maka panjang BC (depan 30°) adalah...",
    "options": ["6 cm", "12 cm", "\\( 6\\sqrt{3} \\) cm", "\\( 12\\sqrt{3} \\) cm"],
    "ans": 0,
    "expl": "Sisi di depan sudut 30° adalah setengah dari sisi miring. \\( \\frac{1}{2} \\times 12 = 6 \\)."
  },
  {
    "no": 18,
    "topic": "Segitiga Istimewa",
    "q": "Diketahui segitiga siku-siku dengan sudut 45°. Jika panjang sisi siku-sikunya 7 cm, panjang hipotenusanya adalah...",
    "options": ["14 cm", "\\( 7\\sqrt{2} \\) cm", "\\( 7\\sqrt{3} \\) cm", "7 cm"],
    "ans": 1,
    "expl": "Perbandingan sisi 1 : 1 : \\( \\sqrt{2} \\). Hipotenusa = \\( 7\\sqrt{2} \\)."
  },
  {
    "no": 19,
    "topic": "Kalimat Terbuka/Tertutup",
    "q": "Manakah yang merupakan kalimat tertutup?",
    "options": ["\\( x + 2 = 10 \\)", "Ibukota Jawa Tengah adalah Semarang", "Dia adalah anak yang pandai", "\\( 2y - 5 > 3 \\)"],
    "ans": 1,
    "expl": "Kalimat tertutup adalah kalimat yang sudah dapat ditentukan nilai kebenarannya (benar/salah). 'Semarang ibukota Jateng' adalah Fakta (Benar)."
  },
  {
    "no": 20,
    "topic": "Kalimat Terbuka",
    "q": "Manakah yang merupakan kalimat terbuka?",
    "options": ["\\( 2 + 3 = 5 \\)", "Sapi berkaki empat", "\\( m \\) adalah bilangan genap", "Bumi berbentuk bulat"],
    "ans": 2,
    "expl": "Kalimat terbuka memuat variabel dan belum tahu benar/salahnya. '\\( m \\) adalah bilangan genap' tergantung nilai \\( m \\)."
  },
  {
    "no": 21,
    "topic": "Identifikasi PLSV",
    "q": "Manakah yang BUKAN merupakan Persamaan Linear Satu Variabel?",
    "options": ["\\( 2x - 3 = 5 \\)", "\\( x^2 + 2x = 0 \\)", "\\( y = 2y - 5 \\)", "\\( 3p + 1 = 7 \\)"],
    "ans": 1,
    "expl": "\\( x^2 \\) menandakan persamaan kuadrat, bukan linear."
  },
  {
    "no": 22,
    "topic": "Model Matematika PLSV",
    "q": "Tiga kali sebuah bilangan dikurangi 7 sama dengan 14. Model matematikanya adalah...",
    "options": ["\\( 3x - 7 = 14 \\)", "\\( 3(x - 7) = 14 \\)", "\\( 7 - 3x = 14 \\)", "\\( 3x + 7 = 14 \\)"],
    "ans": 0,
    "expl": "Tiga kali bilangan (\\( 3x \\)) dikurangi 7 (\\( -7 \\)) sama dengan 14."
  },
  {
    "no": 23,
    "topic": "Model Matematika PLSV",
    "q": "Panjang persegi panjang adalah 5 cm lebih dari lebarnya. Kelilingnya 50 cm. Model matematikanya jika lebar = \\( x \\) adalah...",
    "options": ["\\( 2(x + 5) = 50 \\)", "\\( 2(x + x + 5) = 50 \\)", "\\( x(x + 5) = 50 \\)", "\\( 4x + 5 = 50 \\)"],
    "ans": 1,
    "expl": "Panjang = \\( x+5 \\). Keliling = \\( 2(p+l) = 2(x+5 + x) = 2(2x+5) = 50 \\)."
  },
  {
    "no": 24,
    "topic": "Nilai Variabel PLSV",
    "q": "Penyelesaian dari persamaan \\( 5x - 2 = 18 \\) adalah...",
    "options": ["3", "4", "5", "6"],
    "ans": 1,
    "expl": "\\( 5x = 20 \\Rightarrow x = 4 \\)."
  },
  {
    "no": 25,
    "topic": "Soal Cerita PLSV",
    "q": "Jumlah dua bilangan adalah 20. Bilangan pertama 4 lebih besar dari bilangan kedua. Bilangan terbesarnya adalah...",
    "options": ["8", "12", "10", "16"],
    "ans": 1,
    "expl": "Misal bilangan kedua \\( x \\), bilangan pertama \\( x+4 \\). \\( x + (x+4) = 20 \\Rightarrow 2x = 16 \\Rightarrow x = 8 \\). Bilangan terbesar \\( 8+4=12 \\)."
  },
  {
    "no": 26,
    "topic": "Soal Cerita PLSV",
    "q": "Umur Ayah 3 kali umur Anak. Selisih umur mereka 30 tahun. Umur Anak adalah...",
    "options": ["10 tahun", "15 tahun", "20 tahun", "30 tahun"],
    "ans": 1,
    "expl": "Ayah = \\( 3x \\), Anak = \\( x \\). \\( 3x - x = 30 \\Rightarrow 2x = 30 \\Rightarrow x = 15 \\)."
  },
  {
    "no": 27,
    "topic": "Soal Cerita PLSV",
    "q": "Harga 3 buku tulis dan 1 pensil Rp10.000. Jika harga buku tulis 2 kali harga pensil, berapa harga pensil?",
    "options": ["Rp1.000", "Rp1.428", "Rp2.000", "Rp2.500"],
    "ans": 1,
    "expl": "Buku = \\( 2p \\). \\( 3(2p) + p = 10000 \\Rightarrow 7p = 10000 \\Rightarrow p \\approx 1428 \\). (Opsional, dibulatkan)."
  },
  {
    "no": 28,
    "topic": "Model PtSLV",
    "q": "Siswa yang boleh mengikuti lomba minimal berusia 12 tahun. Model matematikanya adalah...",
    "options": ["\\( u < 12 \\)", "\\( u > 12 \\)", "\\( u \\leq 12 \\)", "\\( u \\geq 12 \\)"],
    "ans": 3,
    "expl": "Minimal berarti paling sedikit 12, boleh lebih. Jadi \\( \\geq 12 \\)."
  },
  {
    "no": 29,
    "topic": "Himpunan Penyelesaian PtSLV",
    "q": "HP dari \\( 3x - 2 < 13 \\) untuk \\( x \\) bilangan asli adalah...",
    "options": ["{1, 2, 3, 4, 5}", "{1, 2, 3, 4}", "{0, 1, 2, 3, 4}", "{1, 2, 3}"],
    "ans": 1,
    "expl": "\\( 3x < 15 \\Rightarrow x < 5 \\). Bilangan asli kurang dari 5 adalah {1, 2, 3, 4}."
  },
  {
    "no": 30,
    "topic": "Soal Cerita PtSLV",
    "q": "Sebuah truk hanya mampu mengangkut beban tidak lebih dari 500 kg. Supir beratnya 70 kg. Berapa banyak kotak berat 20 kg yang bisa diangkut?",
    "options": ["20", "21", "22", "23"],
    "ans": 1,
    "expl": "\\( 70 + 20x \\leq 500 \\Rightarrow 20x \\leq 430 \\Rightarrow x \\leq 21,5 \\). Maksimal kotak utuh = 21."
  },
  {
    "no": 31,
    "topic": "Nilai Variabel PLSV",
    "q": "Nilai \\( x \\) yang memenuhi \\( 2x + 1 = 7 \\) adalah...",
    "options": ["2", "3", "4", "5"],
    "ans": 1,
    "expl": "\\( 2x = 6 \\Rightarrow x = 3 \\)."
  },
  {
    "no": 32,
    "topic": "Nilai Variabel PLSV",
    "q": "Jika \\( 4p - 3 = 13 \\), maka nilai \\( p \\) adalah...",
    "options": ["3", "4", "5", "6"],
    "ans": 1,
    "expl": "\\( 4p = 16 \\Rightarrow p = 4 \\)."
  },
  {
    "no": 33,
    "topic": "Nilai Variabel PLSV",
    "q": "Penyelesaian dari \\( 3(a + 2) = 15 \\) adalah...",
    "options": ["3", "5", "7", "9"],
    "ans": 0,
    "expl": "\\( 3a + 6 = 15 \\Rightarrow 3a = 9 \\Rightarrow a = 3 \\)."
  },
  {
    "no": 34,
    "topic": "Nilai Variabel PLSV",
    "q": "Nilai \\( y \\) dari \\( 2y = y + 5 \\) adalah...",
    "options": ["2", "3", "5", "10"],
    "ans": 2,
    "expl": "\\( 2y - y = 5 \\Rightarrow y = 5 \\)."
  },
  {
    "no": 35,
    "topic": "Nilai Variabel PLSV",
    "q": "Nilai \\( x \\) dari \\( 10 - 3x = 1 \\) adalah...",
    "options": ["2", "3", "4", "5"],
    "ans": 1,
    "expl": "\\( -3x = -9 \\Rightarrow x = 3 \\)."
  },
  {
    "no": 36,
    "topic": "Hasil Persamaan dari Variabel",
    "q": "Diketahui persamaan \\( 3x + 2 = 14 \\). Nilai dari \\( 2x - 1 \\) adalah...",
    "options": ["7", "8", "9", "5"],
    "ans": 0,
    "expl": "Cari x dulu: \\( 3x = 12 \\Rightarrow x = 4 \\). Masukkan ke persamaan baru: \\( 2(4) - 1 = 7 \\)."
  },
  {
    "no": 37,
    "topic": "Aplikasi PLSV (Segitiga)",
    "q": "Keliling segitiga adalah 24 cm. Panjang sisinya adalah \\( x \\), \\( x+2 \\), dan \\( x+4 \\). Nilai \\( x \\) adalah...",
    "options": ["4", "5", "6", "8"],
    "ans": 2,
    "expl": "\\( x + (x+2) + (x+4) = 24 \\Rightarrow 3x + 6 = 24 \\Rightarrow 3x = 18 \\Rightarrow x = 6 \\)."
  },
  {
    "no": 38,
    "topic": "Soal Cerita PLSV (Uang)",
    "q": "Uang adik \\( k \\) rupiah, uang kakak \\( 2k \\) rupiah. Total uang mereka Rp60.000. Uang kakak adalah...",
    "options": ["Rp20.000", "Rp30.000", "Rp40.000", "Rp50.000"],
    "ans": 2,
    "expl": "\\( k + 2k = 60000 \\Rightarrow 3k = 60000 \\Rightarrow k = 20000 \\). Uang kakak \\( 2k = 40000 \\)."
  },
  {
    "no": 39,
    "topic": "Soal Cerita PtSLV",
    "q": "Sebuah persegi panjang lebarnya \\( x \\) cm dan panjangnya 8 cm. Jika luasnya tidak lebih dari 40 cm², pertidaksamaannya adalah...",
    "options": ["\\( 8x < 40 \\)", "\\( 8x > 40 \\)", "\\( 8x \\leq 40 \\)", "\\( 8x \\geq 40 \\)"],
    "ans": 2,
    "expl": "Luas \\( p \\times l \\). Tidak lebih berarti \\( \\leq \\). Maka \\( 8x \\leq 40 \\)."
  },
  {
    "no": 40,
    "topic": "Soal Cerita PtSLV",
    "q": "Budi ingin membeli mainan seharga minimal Rp50.000. Jika uang sakunya \\( x \\) rupiah dan ia sudah menabung Rp20.000, berapa uang saku minimal yang harus ia tambahkan?",
    "options": ["\\( x + 20.000 \\geq 50.000 \\)", "\\( x + 20.000 \\leq 50.000 \\)", "\\( x - 20.000 \\geq 50.000 \\)", "\\( x \\geq 50.000 \\)"],
    "ans": 0,
    "expl": "Total uang harus minimal (\\( \\geq \\)) 50.000. Jadi \\( x + 20000 \\geq 50000 \\)."
  }
];

        let timerInterval;
        let seconds = 0;

        function startQuiz() {
            document.getElementById('intro-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            renderQuestions();
            startTimer();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                seconds++;
                const m = Math.floor(seconds / 60).toString().padStart(2, '0');
                const s = (seconds % 60).toString().padStart(2, '0');
                document.getElementById('timer').innerText = `${m}:${s}`;
            }, 1000);
        }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            container.innerHTML = ''; // Clear previous if any
            
            questions.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-xl shadow-sm border border-slate-200 question-card';
                
                let optionsHtml = '';
                item.options.forEach((opt, i) => {
                    optionsHtml += `
                        <label class="option-label flex items-start p-4 border rounded-lg mb-3 group">
                            <input type="radio" name="q${index}" value="${i}" class="option-input mt-1.5 w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 flex-shrink-0">
                            <span class="option-content w-full ml-3 text-slate-700 group-hover:text-slate-900 text-lg">${opt}</span>
                        </label>
                    `;
                });

                card.innerHTML = `
                    <div class="mb-4 flex justify-between items-center border-b pb-2 border-slate-100">
                        <span class="bg-indigo-50 text-indigo-700 text-xs font-bold px-2.5 py-1 rounded border border-indigo-100">Soal ${item.no}</span>
                        <span class="text-xs font-semibold text-slate-400 uppercase tracking-wide">${item.topic}</span>
                    </div>
                    <h3 class="font-medium text-xl text-slate-800 mb-6 leading-relaxed">${item.q}</h3>
                    <div class="space-y-2">${optionsHtml}</div>
                `;
                container.appendChild(card);
            });
            
            // Render Math in new elements
            if (typeof renderMathInElement === 'function') {
                renderMathInElement(container, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "\\(", right: "\\)", display: false}
                    ]
                });
            }
        }

        function submitQuiz() {
            clearInterval(timerInterval);
            let score = 0;
            let correct = 0;
            const reviewContainer = document.getElementById('review-container');
            reviewContainer.innerHTML = '';

            questions.forEach((item, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const userAns = selected ? parseInt(selected.value) : -1;
                const isCorrect = userAns === item.ans;

                if (isCorrect) {
                    score += 2.5;
                    correct++;
                }

                const reviewCard = document.createElement('div');
                reviewCard.className = `p-6 rounded-xl border-l-4 shadow-sm mb-6 ${isCorrect ? 'bg-emerald-50 border-emerald-500' : 'bg-rose-50 border-rose-500'}`;
                
                const userAnsText = userAns === -1 ? "<span class='italic text-slate-400'>Tidak dijawab</span>" : item.options[userAns];
                const correctAnsText = item.options[item.ans];

                reviewCard.innerHTML = `
                    <div class="flex items-center justify-between mb-4">
                        <span class="font-bold text-slate-700 text-lg">Soal ${item.no}</span>
                        ${isCorrect 
                            ? '<span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-bold flex items-center gap-1">✔ Benar</span>' 
                            : '<span class="px-3 py-1 bg-rose-100 text-rose-700 rounded-full text-sm font-bold flex items-center gap-1">✘ Salah</span>'}
                    </div>
                    <p class="mb-4 text-slate-800 text-lg border-b border-slate-200 pb-4">${item.q}</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="p-3 bg-white rounded-lg border border-slate-200 shadow-sm">
                            <span class="block text-xs uppercase tracking-wider text-slate-400 mb-1">Jawaban Kamu</span>
                            <span class="text-lg ${isCorrect ? 'text-emerald-600 font-bold' : 'text-rose-600 font-bold'}">${userAnsText}</span>
                        </div>
                        <div class="p-3 bg-white rounded-lg border border-slate-200 shadow-sm">
                            <span class="block text-xs uppercase tracking-wider text-slate-400 mb-1">Kunci Jawaban</span>
                            <span class="text-lg text-emerald-600 font-bold">${correctAnsText}</span>
                        </div>
                    </div>
                    
                    <div class="bg-white p-4 rounded-lg border border-indigo-100 text-slate-700">
                        <strong class="block text-indigo-600 mb-2 flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Pembahasan:
                        </strong>
                        <span class="text-base leading-relaxed">${item.expl}</span>
                    </div>
                `;
                reviewContainer.appendChild(reviewCard);
            });

            // Final Scores
            document.getElementById('final-score').innerText = score;
            document.getElementById('correct-total').innerText = correct;
            document.getElementById('wrong-total').innerText = 40 - correct;

            // Switch Screens
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            window.scrollTo(0, 0);

            // Re-render Math in review section
            if (typeof renderMathInElement === 'function') {
                renderMathInElement(reviewContainer, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "\\(", right: "\\)", display: false}
                    ]
                });
            }
        }
    </script>
</body>
</html>
